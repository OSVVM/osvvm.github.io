Report.sources['./../../../OsvvmLibraries/Ethernet/src/xMiiPhyTxReceiver.vhd'] = '--\n--&nbsp;&nbsp;File&nbsp;Name:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;xMiiPhyTxReceiver.vhd\n--&nbsp;&nbsp;Design&nbsp;Unit&nbsp;Name:&nbsp;&nbsp;xMiiPhyTxReceiver\n--&nbsp;&nbsp;Revision:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;OSVVM&nbsp;MODELS&nbsp;STANDARD&nbsp;VERSION\n--\n--&nbsp;&nbsp;Maintainer:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Jim&nbsp;Lewis&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;email:&nbsp;&nbsp;jim@synthworks.com\n--&nbsp;&nbsp;Contributor(s):\n--&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Jim&nbsp;Lewis&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;jim@synthworks.com\n--\n--\n--&nbsp;&nbsp;Description:\n--&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Ethernet&nbsp;GMII/RGMII/MII/RMII&nbsp;VC\n--&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;First&nbsp;target&nbsp;is&nbsp;to&nbsp;support&nbsp;PHY\n--&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Later&nbsp;on&nbsp;need&nbsp;basis&nbsp;consider&nbsp;supporting&nbsp;MAC\n--\n--\n--&nbsp;&nbsp;Developed&nbsp;by:\n--&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;SynthWorks&nbsp;Design&nbsp;Inc.\n--&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;VHDL&nbsp;Training&nbsp;Classes\n--&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;http://www.SynthWorks.com\n--\n--&nbsp;&nbsp;Revision&nbsp;History:\n--&nbsp;&nbsp;&nbsp;&nbsp;Date&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Version&nbsp;&nbsp;&nbsp;&nbsp;Description\n--&nbsp;&nbsp;&nbsp;&nbsp;10/2022&nbsp;&nbsp;&nbsp;2022.10&nbsp;&nbsp;&nbsp;&nbsp;Initial&nbsp;Release\n--\n--\n--&nbsp;&nbsp;This&nbsp;file&nbsp;is&nbsp;part&nbsp;of&nbsp;OSVVM.\n--\n--&nbsp;&nbsp;Copyright&nbsp;(c)&nbsp;2022&nbsp;by&nbsp;SynthWorks&nbsp;Design&nbsp;Inc.\n--\n--&nbsp;&nbsp;Licensed&nbsp;under&nbsp;the&nbsp;Apache&nbsp;License,&nbsp;Version&nbsp;2.0&nbsp;(the&nbsp;&quot;License&quot;);\n--&nbsp;&nbsp;you&nbsp;may&nbsp;not&nbsp;use&nbsp;this&nbsp;file&nbsp;except&nbsp;in&nbsp;compliance&nbsp;with&nbsp;the&nbsp;License.\n--&nbsp;&nbsp;You&nbsp;may&nbsp;obtain&nbsp;a&nbsp;copy&nbsp;of&nbsp;the&nbsp;License&nbsp;at\n--\n--&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;https://www.apache.org/licenses/LICENSE-2.0\n--\n--&nbsp;&nbsp;Unless&nbsp;required&nbsp;by&nbsp;applicable&nbsp;law&nbsp;or&nbsp;agreed&nbsp;to&nbsp;in&nbsp;writing,&nbsp;software\n--&nbsp;&nbsp;distributed&nbsp;under&nbsp;the&nbsp;License&nbsp;is&nbsp;distributed&nbsp;on&nbsp;an&nbsp;&quot;AS&nbsp;IS&quot;&nbsp;BASIS,\n--&nbsp;&nbsp;WITHOUT&nbsp;WARRANTIES&nbsp;OR&nbsp;CONDITIONS&nbsp;OF&nbsp;ANY&nbsp;KIND,&nbsp;either&nbsp;express&nbsp;or&nbsp;implied.\n--&nbsp;&nbsp;See&nbsp;the&nbsp;License&nbsp;for&nbsp;the&nbsp;specific&nbsp;language&nbsp;governing&nbsp;permissions&nbsp;and\n--&nbsp;&nbsp;limitations&nbsp;under&nbsp;the&nbsp;License.\n--\n&nbsp;\nlibrary&nbsp;ieee&nbsp;;\n&nbsp;&nbsp;use&nbsp;ieee.std_logic_1164.all&nbsp;;\n&nbsp;&nbsp;use&nbsp;ieee.numeric_std.all&nbsp;;\n&nbsp;&nbsp;use&nbsp;ieee.numeric_std_unsigned.all&nbsp;;\n&nbsp;&nbsp;use&nbsp;ieee.math_real.all&nbsp;;\n&nbsp;\nlibrary&nbsp;osvvm&nbsp;;\n&nbsp;&nbsp;context&nbsp;osvvm.OsvvmContext&nbsp;;\n&nbsp;&nbsp;use&nbsp;osvvm.ScoreboardPkg_slv.all&nbsp;;\n&nbsp;&nbsp;use&nbsp;osvvm.ScoreboardPkg_int.all&nbsp;;\n&nbsp;\nlibrary&nbsp;osvvm_common&nbsp;;\n&nbsp;&nbsp;context&nbsp;osvvm_common.OsvvmCommonContext&nbsp;;\n&nbsp;\n&nbsp;&nbsp;use&nbsp;work.xMiiTbPkg.all&nbsp;;\n&nbsp;\nentity&nbsp;xMiiPhyTxReceiver&nbsp;is\n&nbsp;&nbsp;generic&nbsp;(\n&nbsp;&nbsp;&nbsp;&nbsp;MODEL_ID_NAME&nbsp;&nbsp;:&nbsp;string&nbsp;:=&nbsp;&quot;&quot;&nbsp;;\n&nbsp;&nbsp;&nbsp;&nbsp;DEFAULT_DELAY&nbsp;&nbsp;:&nbsp;time&nbsp;:=&nbsp;1&nbsp;ns&nbsp;;\n&nbsp;&nbsp;&nbsp;&nbsp;tpd&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:&nbsp;time&nbsp;:=&nbsp;DEFAULT_DELAY&nbsp;\n&nbsp;&nbsp;)&nbsp;;\n&nbsp;&nbsp;port&nbsp;(\n&nbsp;&nbsp;&nbsp;&nbsp;--&nbsp;Configured&nbsp;by&nbsp;MDIO&nbsp;-&nbsp;it&nbsp;can&nbsp;change&nbsp;during&nbsp;operation&nbsp;based&nbsp;on&nbsp;PHY&nbsp;negotiation\n&nbsp;&nbsp;&nbsp;&nbsp;xMiiInterface&nbsp;:&nbsp;in&nbsp;xMiiInterfaceType&nbsp;:=&nbsp;GMII&nbsp;;\n&nbsp;&nbsp;&nbsp;&nbsp;xMiiBps&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:&nbsp;in&nbsp;xMiiBpsType&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:=&nbsp;BPS_1G&nbsp;;\n&nbsp;&nbsp;&nbsp;&nbsp;\n&nbsp;&nbsp;&nbsp;&nbsp;--&nbsp;xMiiPhyTxReceiver&nbsp;Transmitter&nbsp;Functional&nbsp;Interface\n&nbsp;&nbsp;&nbsp;&nbsp;GTx_Clk&nbsp;&nbsp;&nbsp;:&nbsp;in&nbsp;&nbsp;std_logic&nbsp;;&nbsp;&nbsp;--&nbsp;GMII,&nbsp;RGMII\n&nbsp;&nbsp;&nbsp;&nbsp;Tx_Clk&nbsp;&nbsp;&nbsp;&nbsp;:&nbsp;out&nbsp;std_logic&nbsp;;&nbsp;&nbsp;--&nbsp;MII\n&nbsp;&nbsp;&nbsp;&nbsp;TxD&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:&nbsp;in&nbsp;&nbsp;std_logic_vector(0&nbsp;to&nbsp;7)&nbsp;;&nbsp;\n&nbsp;&nbsp;&nbsp;&nbsp;Tx_En&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:&nbsp;in&nbsp;&nbsp;std_logic&nbsp;;&nbsp;\n&nbsp;&nbsp;&nbsp;&nbsp;Tx_Er&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:&nbsp;in&nbsp;&nbsp;std_logic&nbsp;;&nbsp;\n&nbsp;&nbsp;&nbsp;&nbsp;Tx_Ctl&nbsp;&nbsp;&nbsp;&nbsp;:&nbsp;in&nbsp;&nbsp;std_logic&nbsp;;&nbsp;\n&nbsp;&nbsp;&nbsp;&nbsp;\n&nbsp;&nbsp;&nbsp;&nbsp;--&nbsp;Testbench&nbsp;Transaction&nbsp;Interface\n&nbsp;&nbsp;&nbsp;&nbsp;TransRec&nbsp;&nbsp;:&nbsp;inout&nbsp;StreamRecType&nbsp;&nbsp;&nbsp;&nbsp;--&nbsp;Information&nbsp;inbound&nbsp;to&nbsp;this&nbsp;VC\n&nbsp;&nbsp;)&nbsp;;\n&nbsp;\n&nbsp;&nbsp;--&nbsp;Use&nbsp;MODEL_ID_NAME&nbsp;Generic&nbsp;if&nbsp;set,&nbsp;otherwise,\n&nbsp;&nbsp;--&nbsp;use&nbsp;model&nbsp;instance&nbsp;label&nbsp;(preferred&nbsp;if&nbsp;set&nbsp;as&nbsp;entityname_1)\n&nbsp;&nbsp;constant&nbsp;MODEL_INSTANCE_NAME&nbsp;:&nbsp;string&nbsp;:=\n&nbsp;&nbsp;&nbsp;&nbsp;IfElse(MODEL_ID_NAME&apos;length&nbsp;&gt;&nbsp;0,&nbsp;MODEL_ID_NAME,&nbsp;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;to_lower(PathTail(xMiiPhyTxReceiver&apos;PATH_NAME)))&nbsp;;\n&nbsp;\nend&nbsp;entity&nbsp;xMiiPhyTxReceiver&nbsp;;\narchitecture&nbsp;behavioral&nbsp;of&nbsp;xMiiPhyTxReceiver&nbsp;is\n&nbsp;\n&nbsp;&nbsp;signal&nbsp;tperiod_xClk&nbsp;:&nbsp;time&nbsp;:=&nbsp;CalcPeriod(BPS_1G,&nbsp;GMII)&nbsp;;&nbsp;\n&nbsp;&nbsp;signal&nbsp;RefTxClk&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:&nbsp;std_logic&nbsp;:=&nbsp;&apos;0&apos;&nbsp;;&nbsp;\n&nbsp;&nbsp;signal&nbsp;iTxClk&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:&nbsp;std_logic&nbsp;:=&nbsp;&apos;0&apos;&nbsp;;&nbsp;\n&nbsp;&nbsp;signal&nbsp;iTxD&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:&nbsp;std_logic_vector(0&nbsp;to&nbsp;7)&nbsp;;&nbsp;\n&nbsp;&nbsp;signal&nbsp;iTx_En&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:&nbsp;std_logic&nbsp;;&nbsp;\n&nbsp;&nbsp;signal&nbsp;iTx_Er&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:&nbsp;std_logic&nbsp;;&nbsp;\n&nbsp;&nbsp;signal&nbsp;iTx_Ctl&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:&nbsp;std_logic&nbsp;;&nbsp;\n&nbsp;&nbsp;signal&nbsp;Enable&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:&nbsp;std_logic&nbsp;;&nbsp;\n&nbsp;\n&nbsp;&nbsp;signal&nbsp;ModelID&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:&nbsp;AlertLogIDType&nbsp;;\n&nbsp;\n&nbsp;&nbsp;signal&nbsp;DataFifo&nbsp;&nbsp;:&nbsp;osvvm.ScoreboardPkg_slv.ScoreboardIDType&nbsp;;\n&nbsp;&nbsp;signal&nbsp;MetaFifo&nbsp;&nbsp;:&nbsp;osvvm.ScoreboardPkg_int.ScoreboardIDType&nbsp;;\n&nbsp;\n&nbsp;&nbsp;signal&nbsp;PacketReceiveCount&nbsp;:&nbsp;integer&nbsp;:=&nbsp;0&nbsp;;\n&nbsp;\nbegin\n&nbsp;\n&nbsp;&nbsp;------------------------------------------------------------\n&nbsp;&nbsp;--&nbsp;&nbsp;Initialize&nbsp;alerts\n&nbsp;&nbsp;------------------------------------------------------------\n&nbsp;&nbsp;Initialize&nbsp;:&nbsp;process\n&nbsp;&nbsp;&nbsp;&nbsp;variable&nbsp;ID&nbsp;:&nbsp;AlertLogIDType&nbsp;;\n&nbsp;&nbsp;begin\n&nbsp;&nbsp;&nbsp;&nbsp;--&nbsp;Alerts\n&nbsp;&nbsp;&nbsp;&nbsp;ID&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:=&nbsp;NewID(MODEL_INSTANCE_NAME)&nbsp;;\n&nbsp;&nbsp;&nbsp;&nbsp;ModelID&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;=&nbsp;ID&nbsp;;\n&nbsp;&nbsp;&nbsp;&nbsp;DataFifo&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;=&nbsp;NewID(&quot;DataFifo&quot;,&nbsp;&nbsp;ID,&nbsp;ReportMode&nbsp;=&gt;&nbsp;DISABLED,&nbsp;Search&nbsp;=&gt;&nbsp;PRIVATE_NAME)&nbsp;;&nbsp;\n&nbsp;&nbsp;&nbsp;&nbsp;MetaFifo&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;=&nbsp;NewID(&quot;MetaFifo&quot;,&nbsp;&nbsp;ID,&nbsp;ReportMode&nbsp;=&gt;&nbsp;DISABLED,&nbsp;Search&nbsp;=&gt;&nbsp;PRIVATE_NAME)&nbsp;;&nbsp;\n&nbsp;&nbsp;&nbsp;&nbsp;wait&nbsp;;\n&nbsp;&nbsp;end&nbsp;process&nbsp;Initialize&nbsp;;\n&nbsp;\n&nbsp;\n&nbsp;&nbsp;------------------------------------------------------------\n&nbsp;&nbsp;ClkProc&nbsp;:&nbsp;process\n&nbsp;&nbsp;------------------------------------------------------------\n&nbsp;&nbsp;begin\n&nbsp;&nbsp;&nbsp;&nbsp;wait&nbsp;for&nbsp;0&nbsp;ns&nbsp;;&nbsp;&nbsp;--&nbsp;calc&nbsp;init&nbsp;value&nbsp;on&nbsp;tperiod_xClk\n&nbsp;&nbsp;&nbsp;&nbsp;loop&nbsp;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;RefTxClk&nbsp;&lt;=&nbsp;not&nbsp;RefTxClk&nbsp;after&nbsp;tperiod_xClk&nbsp;;&nbsp;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;wait&nbsp;on&nbsp;RefTxClk&nbsp;;&nbsp;\n&nbsp;&nbsp;&nbsp;&nbsp;end&nbsp;loop&nbsp;;&nbsp;\n&nbsp;&nbsp;end&nbsp;process&nbsp;;&nbsp;\n&nbsp;\n&nbsp;&nbsp;tperiod_xClk&nbsp;&lt;=&nbsp;CalcPeriod(xMiiBps,&nbsp;xMiiInterface)&nbsp;;&nbsp;\n&nbsp;&nbsp;\n&nbsp;&nbsp;Tx_Clk&nbsp;&lt;=&nbsp;RefTxClk&nbsp;;\n&nbsp;\n&nbsp;&nbsp;--&nbsp;Internal&nbsp;timing&nbsp;reference&nbsp;-&nbsp;caution:&nbsp;&nbsp;shifted&nbsp;by&nbsp;delta&nbsp;cycle\n&nbsp;&nbsp;iTxClk&nbsp;&lt;=&nbsp;GTx_Clk&nbsp;when&nbsp;xMiiInterface&nbsp;=&nbsp;GMII&nbsp;or&nbsp;xMiiInterface&nbsp;=&nbsp;RGMII&nbsp;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else&nbsp;RefTxClk&nbsp;when&nbsp;xMiiInterface&nbsp;=&nbsp;MII&nbsp;else\n--!!TODO&nbsp;resolve&nbsp;source&nbsp;of&nbsp;RMII&nbsp;Clk\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;RefTxClk&nbsp;;&nbsp;--&nbsp;Source&nbsp;of&nbsp;RMII\n&nbsp;\n&nbsp;&nbsp;--&nbsp;Since&nbsp;iTxClk&nbsp;is&nbsp;delayed,&nbsp;all&nbsp;input&nbsp;signals&nbsp;must&nbsp;be&nbsp;delayed&nbsp;\n&nbsp;&nbsp;--&nbsp;or&nbsp;RTL&nbsp;signals&nbsp;may&nbsp;not&nbsp;be&nbsp;sampled&nbsp;correctly.\n&nbsp;&nbsp;iTxD&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;=&nbsp;TxD&nbsp;&nbsp;&nbsp;;\n&nbsp;&nbsp;iTx_En&nbsp;&nbsp;&nbsp;&lt;=&nbsp;Tx_En&nbsp;;\n&nbsp;&nbsp;iTx_Er&nbsp;&nbsp;&nbsp;&lt;=&nbsp;Tx_Er&nbsp;;\n&nbsp;&nbsp;iTx_Ctl&nbsp;&nbsp;&lt;=&nbsp;Tx_Ctl;\n&nbsp;\n&nbsp;\n&nbsp;&nbsp;------------------------------------------------------------\n&nbsp;&nbsp;TransactionDispatcher&nbsp;:&nbsp;process\n&nbsp;&nbsp;------------------------------------------------------------\n&nbsp;&nbsp;&nbsp;&nbsp;variable&nbsp;NumberTransfers&nbsp;:&nbsp;integer&nbsp;;\n&nbsp;&nbsp;&nbsp;&nbsp;variable&nbsp;PacketTransferCount&nbsp;:&nbsp;integer&nbsp;:=&nbsp;0&nbsp;;\n&nbsp;&nbsp;begin\n&nbsp;&nbsp;&nbsp;&nbsp;wait&nbsp;for&nbsp;0&nbsp;ns&nbsp;;&nbsp;\n&nbsp;&nbsp;&nbsp;&nbsp;TransRec.BurstFifo&nbsp;&lt;=&nbsp;NewID(&quot;BurstFifo&quot;,&nbsp;ModelId,&nbsp;ReportMode&nbsp;=&gt;&nbsp;DISABLED,&nbsp;Search&nbsp;=&gt;&nbsp;PRIVATE_NAME)&nbsp;;\n&nbsp;&nbsp;&nbsp;&nbsp;\n&nbsp;&nbsp;&nbsp;&nbsp;DispatchLoop&nbsp;:&nbsp;loop&nbsp;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;WaitForTransaction(\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Clk&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&gt;&nbsp;iTxClk,\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Rdy&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&gt;&nbsp;TransRec.Rdy,\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Ack&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&gt;&nbsp;TransRec.Ack\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;)&nbsp;;\n&nbsp;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;case&nbsp;TransRec.Operation&nbsp;is\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;when&nbsp;WAIT_FOR_CLOCK&nbsp;=&gt;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;WaitForClock(iTxClk,&nbsp;TransRec.IntToModel)&nbsp;;\n&nbsp;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;when&nbsp;WAIT_FOR_TRANSACTION&nbsp;=&gt;\n--!!&nbsp;TODO:&nbsp;&nbsp;Does&nbsp;this&nbsp;wait&nbsp;until&nbsp;a&nbsp;transaction&nbsp;is&nbsp;received?\n--!!&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;PacketReceiveCount&nbsp;/=&nbsp;PacketTransferCount&nbsp;then\n--!!&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;wait&nbsp;until&nbsp;PacketReceiveCount&nbsp;=&nbsp;PacketTransferCount&nbsp;;\n--!!&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;end&nbsp;if&nbsp;;\n&nbsp;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;when&nbsp;GET_TRANSACTION_COUNT&nbsp;=&gt;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;TransRec.IntFromModel&nbsp;&lt;=&nbsp;PacketTransferCount&nbsp;;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;wait&nbsp;for&nbsp;0&nbsp;ns&nbsp;;\n&nbsp;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;when&nbsp;GET_ALERTLOG_ID&nbsp;=&gt;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;TransRec.IntFromModel&nbsp;&lt;=&nbsp;integer(ModelId)&nbsp;;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;wait&nbsp;for&nbsp;0&nbsp;ns&nbsp;;\n&nbsp;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;when&nbsp;GET_BURST&nbsp;|&nbsp;TRY_GET_BURST&nbsp;=&gt;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(PacketReceiveCount&nbsp;-&nbsp;PacketTransferCount)&nbsp;=&nbsp;0&nbsp;and&nbsp;IsTry(TransRec.Operation)&nbsp;then\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;--&nbsp;Return&nbsp;if&nbsp;no&nbsp;data\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;TransRec.BoolFromModel&nbsp;&nbsp;&lt;=&nbsp;FALSE&nbsp;;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;wait&nbsp;for&nbsp;0&nbsp;ns&nbsp;;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;--&nbsp;Get&nbsp;data\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;TransRec.BoolFromModel&nbsp;&lt;=&nbsp;TRUE&nbsp;;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(PacketReceiveCount&nbsp;-&nbsp;PacketTransferCount)&nbsp;=&nbsp;0&nbsp;then\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;--&nbsp;Wait&nbsp;for&nbsp;data\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;WaitForToggle(PacketReceiveCount)&nbsp;;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;end&nbsp;if&nbsp;;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;NumberTransfers&nbsp;:=&nbsp;Pop(MetaFifo)&nbsp;;&nbsp;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;TransRec.IntFromModel&nbsp;&lt;=&nbsp;NumberTransfers&nbsp;;&nbsp;\n--&nbsp;Do&nbsp;we&nbsp;need&nbsp;a&nbsp;separate&nbsp;DataFifo&nbsp;or&nbsp;\n--&nbsp;is&nbsp;it&nbsp;ok&nbsp;to&nbsp;put&nbsp;values&nbsp;directly&nbsp;into&nbsp;the&nbsp;BurstFifo?\n--&nbsp;For&nbsp;now,&nbsp;could&nbsp;assign&nbsp;DataFifo&nbsp;to&nbsp;TransRec.BurstFifo&nbsp;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;i&nbsp;in&nbsp;1&nbsp;to&nbsp;NumberTransfers&nbsp;loop\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Push(TransRec.BurstFifo,&nbsp;Pop(DataFifo))&nbsp;;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;end&nbsp;loop&nbsp;;&nbsp;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;PacketTransferCount&nbsp;:=&nbsp;Increment(PacketTransferCount)&nbsp;;&nbsp;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Log(ModelId,\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;Received&nbsp;Packet#&nbsp;&quot;&nbsp;&amp;&nbsp;to_string&nbsp;(PacketTransferCount),\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;INFO,&nbsp;TransRec.BoolToModel&nbsp;or&nbsp;IsLogEnabled(ModelId,&nbsp;PASSED)\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;)&nbsp;;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;wait&nbsp;for&nbsp;0&nbsp;ns&nbsp;;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;end&nbsp;if&nbsp;;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;when&nbsp;SET_MODEL_OPTIONS&nbsp;|&nbsp;GET_MODEL_OPTIONS&nbsp;=&gt;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Alert(ModelId,&nbsp;&quot;Configuration&nbsp;done&nbsp;via&nbsp;MDIO&nbsp;Interface.&quot;&nbsp;&amp;&nbsp;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&nbsp;&nbsp;Transaction&nbsp;#&nbsp;&quot;&nbsp;&amp;&nbsp;to_string(TransRec.Rdy),&nbsp;FAILURE)&nbsp;;\n&nbsp;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;when&nbsp;MULTIPLE_DRIVER_DETECT&nbsp;=&gt;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Alert(ModelId,&nbsp;&quot;Multiple&nbsp;Drivers&nbsp;on&nbsp;Transaction&nbsp;Record.&quot;&nbsp;&amp;&nbsp;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&nbsp;&nbsp;Transaction&nbsp;#&nbsp;&quot;&nbsp;&amp;&nbsp;to_string(TransRec.Rdy),&nbsp;FAILURE)&nbsp;;\n&nbsp;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;--&nbsp;The&nbsp;End&nbsp;--&nbsp;Done\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;when&nbsp;others&nbsp;=&gt;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Alert(ModelId,&nbsp;&quot;Unimplemented&nbsp;Transaction:&nbsp;&quot;&nbsp;&amp;&nbsp;to_string(TransRec.Operation),&nbsp;FAILURE)&nbsp;;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;end&nbsp;case&nbsp;;\n&nbsp;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;--&nbsp;Wait&nbsp;for&nbsp;1&nbsp;delta&nbsp;cycle,&nbsp;required&nbsp;if&nbsp;a&nbsp;wait&nbsp;is&nbsp;not&nbsp;in&nbsp;all&nbsp;case&nbsp;branches&nbsp;above\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;wait&nbsp;for&nbsp;0&nbsp;ns&nbsp;;\n&nbsp;&nbsp;&nbsp;&nbsp;end&nbsp;loop&nbsp;DispatchLoop&nbsp;;\n&nbsp;&nbsp;end&nbsp;process&nbsp;TransactionDispatcher&nbsp;;\n&nbsp;&nbsp;\n&nbsp;&nbsp;Enable&nbsp;&lt;=&nbsp;xMiiEnable&nbsp;(\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;xMiiInterface&nbsp;=&gt;&nbsp;xMiiInterface,&nbsp;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;iEnDv&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&gt;&nbsp;iTx_En,&nbsp;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;iCtl&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&gt;&nbsp;iTx_Ctl&nbsp;)&nbsp;;\n&nbsp;&nbsp;\n&nbsp;&nbsp;------------------------------------------------------------\n&nbsp;&nbsp;PhyTxHandler&nbsp;:&nbsp;process\n&nbsp;&nbsp;--&nbsp;&nbsp;Phy&nbsp;receives&nbsp;data&nbsp;on&nbsp;Phy&nbsp;Transmitter&nbsp;Interface\n&nbsp;&nbsp;------------------------------------------------------------\n&nbsp;&nbsp;&nbsp;&nbsp;variable&nbsp;PacketLength&nbsp;:&nbsp;integer&nbsp;;&nbsp;\n&nbsp;&nbsp;&nbsp;&nbsp;variable&nbsp;ErrorLoc&nbsp;:&nbsp;integer&nbsp;;&nbsp;\n&nbsp;&nbsp;&nbsp;&nbsp;variable&nbsp;oData&nbsp;:&nbsp;std_logic_vector(0&nbsp;to&nbsp;7)&nbsp;;\n&nbsp;&nbsp;&nbsp;&nbsp;variable&nbsp;oEn,&nbsp;oEr&nbsp;:&nbsp;std_logic&nbsp;;&nbsp;\n&nbsp;&nbsp;&nbsp;&nbsp;\n&nbsp;&nbsp;&nbsp;&nbsp;procedure&nbsp;GetByte&nbsp;(\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;variable&nbsp;oData&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:&nbsp;out&nbsp;std_logic_vector(0&nbsp;to&nbsp;7);&nbsp;&nbsp;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;variable&nbsp;oEn&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:&nbsp;out&nbsp;std_logic&nbsp;;&nbsp;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;variable&nbsp;oEr&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:&nbsp;out&nbsp;std_logic&nbsp;\n&nbsp;&nbsp;&nbsp;&nbsp;)&nbsp;is&nbsp;\n&nbsp;&nbsp;&nbsp;&nbsp;begin\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;GetByte&nbsp;(\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Clk&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&gt;&nbsp;iTxClk,\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;oData&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&gt;&nbsp;oData,&nbsp;&nbsp;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;oEnDv&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&gt;&nbsp;oEn,\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;oEr&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&gt;&nbsp;oEr,\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Tpd&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&gt;&nbsp;Tpd,\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;xMiiInterface&nbsp;=&gt;&nbsp;xMiiInterface,\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;iData&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&gt;&nbsp;iTxD,&nbsp;&nbsp;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;iEnDv&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&gt;&nbsp;iTx_En,\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;iEr&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&gt;&nbsp;iTx_Er,\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;iCtl&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&gt;&nbsp;iTx_Ctl\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;)&nbsp;;\n&nbsp;&nbsp;&nbsp;&nbsp;end&nbsp;procedure&nbsp;GetByte&nbsp;;\n&nbsp;&nbsp;begin\n&nbsp;&nbsp;&nbsp;&nbsp;wait&nbsp;for&nbsp;0&nbsp;ns&nbsp;;&nbsp;--&nbsp;Allow&nbsp;DataFifo&nbsp;to&nbsp;initialize&nbsp;\n&nbsp;\n&nbsp;&nbsp;&nbsp;&nbsp;GetLoop&nbsp;:&nbsp;loop\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;wait&nbsp;on&nbsp;iTxClk&nbsp;until&nbsp;Enable&nbsp;=&nbsp;&apos;1&apos;&nbsp;and&nbsp;rising_edge(iTxClk)&nbsp;;\n&nbsp;&nbsp;&nbsp;&nbsp;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;--&nbsp;Find&nbsp;SFD\n--&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;while&nbsp;oData&nbsp;/=&nbsp;X&quot;AB&quot;&nbsp;loop&nbsp;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;loop&nbsp;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;GetByte(oData,&nbsp;oEn,&nbsp;oEr)&nbsp;;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;oEn&nbsp;/=&nbsp;&apos;1&apos;&nbsp;then\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Alert(ModelId,&nbsp;&quot;Incomplete&nbsp;Preamble&nbsp;and&nbsp;SFD&quot;)&nbsp;;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;next&nbsp;GetLoop&nbsp;;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;end&nbsp;if&nbsp;;&nbsp;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Log(ModelId,\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;Received&nbsp;Byte&nbsp;&quot;&nbsp;&amp;&nbsp;to_hstring&nbsp;(oData)&nbsp;&amp;&nbsp;&quot;&nbsp;&nbsp;oEn&nbsp;=&nbsp;&quot;&nbsp;&amp;&nbsp;to_string(oEn),\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;DEBUG\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;)&nbsp;;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;exit&nbsp;when&nbsp;oData&nbsp;=&nbsp;X&quot;AB&quot;&nbsp;;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;end&nbsp;loop&nbsp;;&nbsp;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;--&nbsp;Get&nbsp;A&nbsp;Packet&nbsp;of&nbsp;Data\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ErrorLoc&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:=&nbsp;0&nbsp;;&nbsp;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;PacketLength&nbsp;:=&nbsp;MaxPacketLength&nbsp;;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;i&nbsp;in&nbsp;1&nbsp;to&nbsp;MaxPacketLength&nbsp;loop&nbsp;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;GetByte(oData,&nbsp;oEn,&nbsp;oEr)&nbsp;;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;oEr&nbsp;=&nbsp;&apos;1&apos;&nbsp;then&nbsp;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ErrorLoc&nbsp;:=&nbsp;i&nbsp;;&nbsp;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;end&nbsp;if&nbsp;;&nbsp;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;oEn&nbsp;=&nbsp;&apos;1&apos;&nbsp;then&nbsp;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Push(DataFifo,&nbsp;oData)&nbsp;;&nbsp;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;PacketLength&nbsp;:=&nbsp;i&nbsp;-&nbsp;1&nbsp;;&nbsp;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;exit&nbsp;;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;end&nbsp;if&nbsp;;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;end&nbsp;loop&nbsp;;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Push(MetaFifo,&nbsp;PacketLength)&nbsp;;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Increment(PacketReceiveCount)&nbsp;;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;PacketLength&nbsp;=&nbsp;MaxPacketLength&nbsp;then\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;GetByte(oData,&nbsp;oEn,&nbsp;oEr)&nbsp;;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;oEn&nbsp;=&nbsp;&apos;1&apos;&nbsp;then&nbsp;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Alert(ModelId,&nbsp;&quot;PacketLength&nbsp;=&nbsp;&quot;&nbsp;&amp;&nbsp;to_string(PacketLength)&nbsp;&amp;&nbsp;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;.&nbsp;&nbsp;Packet&nbsp;truncated&nbsp;due&nbsp;to&nbsp;exceeding&nbsp;maximum&nbsp;length&nbsp;=&nbsp;&quot;&nbsp;&amp;&nbsp;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;to_string(MaxPacketLength))&nbsp;;&nbsp;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;while&nbsp;oEn&nbsp;=&nbsp;&apos;1&apos;&nbsp;loop\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;GetByte(oData,&nbsp;oEn,&nbsp;oEr)&nbsp;;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;end&nbsp;loop&nbsp;;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;end&nbsp;if&nbsp;;&nbsp;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;end&nbsp;if&nbsp;;&nbsp;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;wait&nbsp;for&nbsp;0&nbsp;ns&nbsp;;\n&nbsp;&nbsp;&nbsp;&nbsp;end&nbsp;loop&nbsp;GetLoop&nbsp;;\n&nbsp;&nbsp;end&nbsp;process&nbsp;PhyTxHandler&nbsp;;\nend&nbsp;architecture&nbsp;behavioral&nbsp;;\n';
Report.brushes['./../../../OsvvmLibraries/Ethernet/src/xMiiPhyTxReceiver.vhd'] = 'vhdl'
