Report.sources['./../../../SynthWorks/Dev/_osvvm/OsvvmLibraries/AXI4/AxiStream/src/AxiStreamReceiver.vhd'] = '--\n--&nbsp;&nbsp;File&nbsp;Name:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;AxiStreamReceiver.vhd\n--&nbsp;&nbsp;Design&nbsp;Unit&nbsp;Name:&nbsp;&nbsp;AxiStreamReceiver\n--&nbsp;&nbsp;Revision:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;OSVVM&nbsp;MODELS&nbsp;STANDARD&nbsp;VERSION\n--\n--&nbsp;&nbsp;Maintainer:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Jim&nbsp;Lewis&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;email:&nbsp;&nbsp;jim@synthworks.com\n--&nbsp;&nbsp;Contributor(s):\n--&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Jim&nbsp;Lewis&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;jim@synthworks.com\n--\n--\n--&nbsp;&nbsp;Description:\n--&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;AXI&nbsp;Stream&nbsp;Master&nbsp;Model\n--\n--\n--&nbsp;&nbsp;Developed&nbsp;by:\n--&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;SynthWorks&nbsp;Design&nbsp;Inc.\n--&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;VHDL&nbsp;Training&nbsp;Classes\n--&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;http://www.SynthWorks.com\n--\n--&nbsp;&nbsp;Revision&nbsp;History:\n--&nbsp;&nbsp;&nbsp;&nbsp;Date&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Version&nbsp;&nbsp;&nbsp;&nbsp;Description\n--&nbsp;&nbsp;&nbsp;&nbsp;05/2023&nbsp;&nbsp;&nbsp;2023.05&nbsp;&nbsp;&nbsp;&nbsp;Updated&nbsp;methods&nbsp;for&nbsp;Randomized&nbsp;delays&nbsp;\n--&nbsp;&nbsp;&nbsp;&nbsp;04/2023&nbsp;&nbsp;&nbsp;2023.04&nbsp;&nbsp;&nbsp;&nbsp;Update&nbsp;delays&nbsp;on&nbsp;TReady&nbsp;to&nbsp;be&nbsp;randomized\n--&nbsp;&nbsp;&nbsp;&nbsp;10/2022&nbsp;&nbsp;&nbsp;2022.10&nbsp;&nbsp;&nbsp;&nbsp;Changed&nbsp;enum&nbsp;value&nbsp;PRIVATE&nbsp;to&nbsp;PRIVATE_NAME&nbsp;due&nbsp;to&nbsp;VHDL-2019&nbsp;keyword&nbsp;conflict.&nbsp;&nbsp;&nbsp;\n--&nbsp;&nbsp;&nbsp;&nbsp;05/2022&nbsp;&nbsp;&nbsp;2022.05&nbsp;&nbsp;&nbsp;&nbsp;Updated&nbsp;FIFOs&nbsp;so&nbsp;they&nbsp;are&nbsp;Search&nbsp;=&gt;&nbsp;PRIVATE\n--&nbsp;&nbsp;&nbsp;&nbsp;03/2022&nbsp;&nbsp;&nbsp;2022.03&nbsp;&nbsp;&nbsp;&nbsp;Updated&nbsp;calls&nbsp;to&nbsp;NewID&nbsp;for&nbsp;AlertLogID&nbsp;and&nbsp;FIFOs\n--&nbsp;&nbsp;&nbsp;&nbsp;02/2022&nbsp;&nbsp;&nbsp;2022.02&nbsp;&nbsp;&nbsp;&nbsp;WaitForGet,&nbsp;don&apos;t&nbsp;send&nbsp;TReady&nbsp;until&nbsp;have&nbsp;a&nbsp;Get&nbsp;transaction\n--&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Replaced&nbsp;to_hstring&nbsp;to&nbsp;to_hxstring\n--&nbsp;&nbsp;&nbsp;&nbsp;01/2022&nbsp;&nbsp;&nbsp;2022.01&nbsp;&nbsp;&nbsp;&nbsp;Moved&nbsp;MODEL_INSTANCE_NAME&nbsp;and&nbsp;MODEL_NAME&nbsp;to&nbsp;entity&nbsp;declarative&nbsp;region\n--&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Added&nbsp;GotBurst&nbsp;transaction&nbsp;Y&nbsp;check&nbsp;for&nbsp;BurstLen&nbsp;vs&nbsp;Expected&nbsp;BurstLen&nbsp;in&nbsp;CheckBurst\n--&nbsp;&nbsp;&nbsp;&nbsp;07/2021&nbsp;&nbsp;&nbsp;2021.07&nbsp;&nbsp;&nbsp;&nbsp;All&nbsp;FIFOs&nbsp;and&nbsp;Scoreboards&nbsp;now&nbsp;use&nbsp;the&nbsp;New&nbsp;Scoreboard/FIFO&nbsp;capability\n--&nbsp;&nbsp;&nbsp;&nbsp;06/2021&nbsp;&nbsp;&nbsp;2021.06&nbsp;&nbsp;&nbsp;&nbsp;Updated&nbsp;Burst&nbsp;FIFOs.\n--&nbsp;&nbsp;&nbsp;&nbsp;02/2021&nbsp;&nbsp;&nbsp;2021.02&nbsp;&nbsp;&nbsp;&nbsp;Added&nbsp;MultiDriver&nbsp;Detect.&nbsp;&nbsp;Updated&nbsp;Generics.\n--&nbsp;&nbsp;&nbsp;&nbsp;10/2020&nbsp;&nbsp;&nbsp;2020.10&nbsp;&nbsp;&nbsp;&nbsp;Added&nbsp;Bursting&nbsp;per&nbsp;updates&nbsp;to&nbsp;Model&nbsp;Independent&nbsp;Transactions\n--&nbsp;&nbsp;&nbsp;&nbsp;07/2020&nbsp;&nbsp;&nbsp;2020.07&nbsp;&nbsp;&nbsp;&nbsp;Updated&nbsp;for&nbsp;Streaming&nbsp;Model&nbsp;Independent&nbsp;Transactions\n--&nbsp;&nbsp;&nbsp;&nbsp;01/2020&nbsp;&nbsp;&nbsp;2020.01&nbsp;&nbsp;&nbsp;&nbsp;Updated&nbsp;license&nbsp;notice\n--&nbsp;&nbsp;&nbsp;&nbsp;05/2019&nbsp;&nbsp;&nbsp;2019.05&nbsp;&nbsp;&nbsp;&nbsp;Removed&nbsp;generics&nbsp;for&nbsp;DEFAULT_ID,&nbsp;DEFAULT_DEST,&nbsp;DEFAULT_USER\n--&nbsp;&nbsp;&nbsp;&nbsp;05/2018&nbsp;&nbsp;&nbsp;2018.05&nbsp;&nbsp;&nbsp;&nbsp;First&nbsp;Release\n--\n--\n--&nbsp;&nbsp;This&nbsp;file&nbsp;is&nbsp;part&nbsp;of&nbsp;OSVVM.\n--\n--&nbsp;&nbsp;Copyright&nbsp;(c)&nbsp;2018&nbsp;-&nbsp;2023&nbsp;by&nbsp;SynthWorks&nbsp;Design&nbsp;Inc.\n--\n--&nbsp;&nbsp;Licensed&nbsp;under&nbsp;the&nbsp;Apache&nbsp;License,&nbsp;Version&nbsp;2.0&nbsp;(the&nbsp;&quot;License&quot;);\n--&nbsp;&nbsp;you&nbsp;may&nbsp;not&nbsp;use&nbsp;this&nbsp;file&nbsp;except&nbsp;in&nbsp;compliance&nbsp;with&nbsp;the&nbsp;License.\n--&nbsp;&nbsp;You&nbsp;may&nbsp;obtain&nbsp;a&nbsp;copy&nbsp;of&nbsp;the&nbsp;License&nbsp;at\n--\n--&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;https://www.apache.org/licenses/LICENSE-2.0\n--\n--&nbsp;&nbsp;Unless&nbsp;required&nbsp;by&nbsp;applicable&nbsp;law&nbsp;or&nbsp;agreed&nbsp;to&nbsp;in&nbsp;writing,&nbsp;software\n--&nbsp;&nbsp;distributed&nbsp;under&nbsp;the&nbsp;License&nbsp;is&nbsp;distributed&nbsp;on&nbsp;an&nbsp;&quot;AS&nbsp;IS&quot;&nbsp;BASIS,\n--&nbsp;&nbsp;WITHOUT&nbsp;WARRANTIES&nbsp;OR&nbsp;CONDITIONS&nbsp;OF&nbsp;ANY&nbsp;KIND,&nbsp;either&nbsp;express&nbsp;or&nbsp;implied.\n--&nbsp;&nbsp;See&nbsp;the&nbsp;License&nbsp;for&nbsp;the&nbsp;specific&nbsp;language&nbsp;governing&nbsp;permissions&nbsp;and\n--&nbsp;&nbsp;limitations&nbsp;under&nbsp;the&nbsp;License.\n--\nlibrary&nbsp;ieee&nbsp;;\n&nbsp;&nbsp;use&nbsp;ieee.std_logic_1164.all&nbsp;;\n&nbsp;&nbsp;use&nbsp;ieee.numeric_std.all&nbsp;;\n&nbsp;&nbsp;use&nbsp;ieee.numeric_std_unsigned.all&nbsp;;\n&nbsp;&nbsp;use&nbsp;ieee.math_real.all&nbsp;;\n&nbsp;\nlibrary&nbsp;osvvm&nbsp;;\n&nbsp;&nbsp;context&nbsp;osvvm.OsvvmContext&nbsp;;\n&nbsp;&nbsp;use&nbsp;osvvm.ScoreboardPkg_slv.all&nbsp;;\n&nbsp;\nlibrary&nbsp;osvvm_common&nbsp;;\n&nbsp;&nbsp;context&nbsp;osvvm_common.OsvvmCommonContext&nbsp;;\n&nbsp;\n&nbsp;&nbsp;use&nbsp;work.AxiStreamOptionsPkg.all&nbsp;;\n&nbsp;&nbsp;use&nbsp;work.Axi4CommonPkg.all&nbsp;;\n&nbsp;&nbsp;use&nbsp;work.AxiStreamTbPkg.all&nbsp;;\n&nbsp;\nentity&nbsp;AxiStreamReceiver&nbsp;is\n&nbsp;&nbsp;generic&nbsp;(\n&nbsp;&nbsp;&nbsp;&nbsp;MODEL_ID_NAME&nbsp;&nbsp;:&nbsp;string&nbsp;:=&quot;&quot;&nbsp;;\n&nbsp;&nbsp;&nbsp;&nbsp;INIT_ID&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:&nbsp;std_logic_vector&nbsp;:=&nbsp;&quot;&quot;&nbsp;;\n&nbsp;&nbsp;&nbsp;&nbsp;INIT_DEST&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:&nbsp;std_logic_vector&nbsp;:=&nbsp;&quot;&quot;&nbsp;;\n&nbsp;&nbsp;&nbsp;&nbsp;INIT_USER&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:&nbsp;std_logic_vector&nbsp;:=&nbsp;&quot;&quot;&nbsp;;\n&nbsp;&nbsp;&nbsp;&nbsp;INIT_LAST&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:&nbsp;natural&nbsp;:=&nbsp;0&nbsp;;\n&nbsp;&nbsp;&nbsp;&nbsp;tperiod_Clk&nbsp;&nbsp;&nbsp;&nbsp;:&nbsp;time&nbsp;:=&nbsp;10&nbsp;ns&nbsp;;\n&nbsp;\n&nbsp;&nbsp;&nbsp;&nbsp;DEFAULT_DELAY&nbsp;&nbsp;:&nbsp;time&nbsp;:=&nbsp;1&nbsp;ns&nbsp;;\n&nbsp;\n&nbsp;&nbsp;&nbsp;&nbsp;tpd_Clk_TReady&nbsp;:&nbsp;time&nbsp;:=&nbsp;DEFAULT_DELAY\n&nbsp;&nbsp;)&nbsp;;\n&nbsp;&nbsp;port&nbsp;(\n&nbsp;&nbsp;&nbsp;&nbsp;--&nbsp;Globals\n&nbsp;&nbsp;&nbsp;&nbsp;Clk&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:&nbsp;in&nbsp;&nbsp;std_logic&nbsp;;\n&nbsp;&nbsp;&nbsp;&nbsp;nReset&nbsp;&nbsp;&nbsp;&nbsp;:&nbsp;in&nbsp;&nbsp;std_logic&nbsp;;\n&nbsp;\n&nbsp;&nbsp;&nbsp;&nbsp;--&nbsp;AXI&nbsp;Receiver&nbsp;Functional&nbsp;Interface\n&nbsp;&nbsp;&nbsp;&nbsp;TValid&nbsp;&nbsp;&nbsp;&nbsp;:&nbsp;in&nbsp;&nbsp;std_logic&nbsp;;\n&nbsp;&nbsp;&nbsp;&nbsp;TReady&nbsp;&nbsp;&nbsp;&nbsp;:&nbsp;out&nbsp;std_logic&nbsp;;\n&nbsp;&nbsp;&nbsp;&nbsp;TID&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:&nbsp;in&nbsp;&nbsp;std_logic_vector&nbsp;;\n&nbsp;&nbsp;&nbsp;&nbsp;TDest&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:&nbsp;in&nbsp;&nbsp;std_logic_vector&nbsp;;\n&nbsp;&nbsp;&nbsp;&nbsp;TUser&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:&nbsp;in&nbsp;&nbsp;std_logic_vector&nbsp;;\n&nbsp;&nbsp;&nbsp;&nbsp;TData&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:&nbsp;in&nbsp;&nbsp;std_logic_vector&nbsp;;\n&nbsp;&nbsp;&nbsp;&nbsp;TStrb&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:&nbsp;in&nbsp;&nbsp;std_logic_vector&nbsp;;\n&nbsp;&nbsp;&nbsp;&nbsp;TKeep&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:&nbsp;in&nbsp;&nbsp;std_logic_vector&nbsp;;\n&nbsp;&nbsp;&nbsp;&nbsp;TLast&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:&nbsp;in&nbsp;&nbsp;std_logic&nbsp;;\n&nbsp;\n&nbsp;&nbsp;&nbsp;&nbsp;--&nbsp;Testbench&nbsp;Transaction&nbsp;Interface\n&nbsp;&nbsp;&nbsp;&nbsp;TransRec&nbsp;&nbsp;:&nbsp;inout&nbsp;StreamRecType\n&nbsp;&nbsp;)&nbsp;;\n&nbsp;\n&nbsp;&nbsp;--&nbsp;Derive&nbsp;AXI&nbsp;interface&nbsp;properties&nbsp;from&nbsp;interface&nbsp;signals\n&nbsp;&nbsp;constant&nbsp;AXI_STREAM_DATA_WIDTH&nbsp;&nbsp;&nbsp;:&nbsp;integer&nbsp;:=&nbsp;TData&apos;length&nbsp;;\n&nbsp;\n&nbsp;&nbsp;--&nbsp;Use&nbsp;MODEL_ID_NAME&nbsp;Generic&nbsp;if&nbsp;set,&nbsp;otherwise,\n&nbsp;&nbsp;--&nbsp;use&nbsp;model&nbsp;instance&nbsp;label&nbsp;(preferred&nbsp;if&nbsp;set&nbsp;as&nbsp;entityname_1)\n&nbsp;&nbsp;constant&nbsp;MODEL_INSTANCE_NAME&nbsp;:&nbsp;string&nbsp;:=\n&nbsp;&nbsp;&nbsp;&nbsp;ifelse(MODEL_ID_NAME&apos;length&nbsp;&gt;&nbsp;0,&nbsp;MODEL_ID_NAME,\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;to_lower(PathTail(AxiStreamReceiver&apos;PATH_NAME)))&nbsp;;\n&nbsp;\nend&nbsp;entity&nbsp;AxiStreamReceiver&nbsp;;\narchitecture&nbsp;behavioral&nbsp;of&nbsp;AxiStreamReceiver&nbsp;is\n&nbsp;\n&nbsp;&nbsp;signal&nbsp;ModelID,&nbsp;ProtocolID,&nbsp;DataCheckID,&nbsp;BusFailedID,&nbsp;BurstFifoID&nbsp;:&nbsp;AlertLogIDType&nbsp;;\n&nbsp;&nbsp;signal&nbsp;BurstCov&nbsp;:&nbsp;DelayCoverageIDType&nbsp;;\n&nbsp;&nbsp;\n&nbsp;&nbsp;signal&nbsp;UseCoverageDelays&nbsp;:&nbsp;Boolean&nbsp;:=&nbsp;FALSE&nbsp;;\n&nbsp;\n&nbsp;&nbsp;constant&nbsp;ID_LEN&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:&nbsp;integer&nbsp;:=&nbsp;TID&apos;length&nbsp;;\n&nbsp;&nbsp;constant&nbsp;DEST_LEN&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:&nbsp;integer&nbsp;:=&nbsp;TDest&apos;length&nbsp;;\n&nbsp;&nbsp;constant&nbsp;USER_LEN&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:&nbsp;integer&nbsp;:=&nbsp;TUser&apos;length&nbsp;;\n&nbsp;&nbsp;constant&nbsp;PARAM_LENGTH&nbsp;:&nbsp;integer&nbsp;:=&nbsp;ID_LEN&nbsp;+&nbsp;DEST_LEN&nbsp;+&nbsp;USER_LEN&nbsp;+&nbsp;1&nbsp;;\n&nbsp;&nbsp;constant&nbsp;USER_RIGHT&nbsp;&nbsp;&nbsp;:&nbsp;integer&nbsp;:=&nbsp;1&nbsp;;\n&nbsp;&nbsp;constant&nbsp;DEST_RIGHT&nbsp;&nbsp;&nbsp;:&nbsp;integer&nbsp;:=&nbsp;USER_RIGHT&nbsp;+&nbsp;USER_LEN&nbsp;;\n&nbsp;&nbsp;constant&nbsp;ID_RIGHT&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:&nbsp;integer&nbsp;:=&nbsp;DEST_RIGHT&nbsp;+&nbsp;DEST_LEN&nbsp;;\n&nbsp;\n&nbsp;&nbsp;signal&nbsp;ReceiveFifo&nbsp;:&nbsp;osvvm.ScoreboardPkg_slv.ScoreboardIDType&nbsp;;\n&nbsp;\n&nbsp;&nbsp;signal&nbsp;WordRequestCount,&nbsp;BurstRequestCount&nbsp;:&nbsp;integer&nbsp;:=&nbsp;0&nbsp;;&nbsp;\n&nbsp;&nbsp;signal&nbsp;WordReceiveCount,&nbsp;BurstReceiveCount&nbsp;:&nbsp;integer&nbsp;:=&nbsp;0&nbsp;;\n&nbsp;&nbsp;signal&nbsp;ReceiveByteCount,&nbsp;TransferByteCount&nbsp;:&nbsp;integer&nbsp;:=&nbsp;0&nbsp;;\n&nbsp;\n&nbsp;&nbsp;--&nbsp;Verification&nbsp;Component&nbsp;Configuration\n&nbsp;&nbsp;signal&nbsp;ReceiveReadyBeforeValid&nbsp;:&nbsp;boolean&nbsp;:=&nbsp;TRUE&nbsp;;\n&nbsp;&nbsp;signal&nbsp;ReceiveReadyDelayCycles&nbsp;:&nbsp;integer&nbsp;:=&nbsp;0&nbsp;;\n&nbsp;\n&nbsp;&nbsp;signal&nbsp;ParamID&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:&nbsp;std_logic_vector(TID&apos;range)&nbsp;&nbsp;&nbsp;:=&nbsp;ifelse(INIT_ID&apos;length&nbsp;&gt;&nbsp;0,&nbsp;&nbsp;&nbsp;INIT_ID,&nbsp;&nbsp;&nbsp;(TID&apos;range&nbsp;=&gt;&nbsp;&apos;0&apos;))&nbsp;;\n&nbsp;&nbsp;signal&nbsp;ParamDest&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:&nbsp;std_logic_vector(TDest&apos;range)&nbsp;:=&nbsp;ifelse(INIT_DEST&apos;length&nbsp;&gt;&nbsp;0,&nbsp;INIT_DEST,&nbsp;(TDest&apos;range&nbsp;=&gt;&nbsp;&apos;0&apos;))&nbsp;;\n&nbsp;&nbsp;signal&nbsp;ParamUser&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:&nbsp;std_logic_vector(TUser&apos;range)&nbsp;:=&nbsp;ifelse(INIT_USER&apos;length&nbsp;&gt;&nbsp;0,&nbsp;INIT_USER,&nbsp;(TUser&apos;range&nbsp;=&gt;&nbsp;&apos;0&apos;))&nbsp;;\n&nbsp;&nbsp;signal&nbsp;ParamLast&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:&nbsp;natural&nbsp;:=&nbsp;INIT_LAST&nbsp;;\n&nbsp;&nbsp;signal&nbsp;LastOffsetCount&nbsp;&nbsp;&nbsp;:&nbsp;integer&nbsp;:=&nbsp;0&nbsp;;\n&nbsp;&nbsp;constant&nbsp;DEFAULT_BURST_MODE&nbsp;:&nbsp;StreamFifoBurstModeType&nbsp;:=&nbsp;STREAM_BURST_WORD_MODE&nbsp;;\n&nbsp;&nbsp;signal&nbsp;&nbsp;&nbsp;BurstFifoMode&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:&nbsp;StreamFifoBurstModeType&nbsp;:=&nbsp;DEFAULT_BURST_MODE&nbsp;;\n&nbsp;&nbsp;signal&nbsp;&nbsp;&nbsp;BurstFifoByteMode&nbsp;&nbsp;:&nbsp;boolean&nbsp;:=&nbsp;(DEFAULT_BURST_MODE&nbsp;=&nbsp;STREAM_BURST_BYTE_MODE)&nbsp;;\n&nbsp;&nbsp;\n&nbsp;&nbsp;signal&nbsp;WaitForGet&nbsp;:&nbsp;boolean&nbsp;:=&nbsp;FALSE&nbsp;;\nbegin\n&nbsp;\n&nbsp;\n&nbsp;&nbsp;------------------------------------------------------------\n&nbsp;&nbsp;--&nbsp;&nbsp;Initialize&nbsp;alerts\n&nbsp;&nbsp;------------------------------------------------------------\n&nbsp;&nbsp;Initialize&nbsp;:&nbsp;process\n&nbsp;&nbsp;&nbsp;&nbsp;variable&nbsp;ID&nbsp;:&nbsp;AlertLogIDType&nbsp;;\n&nbsp;&nbsp;begin\n&nbsp;&nbsp;&nbsp;&nbsp;--&nbsp;Alerts\n&nbsp;&nbsp;&nbsp;&nbsp;ID&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:=&nbsp;NewID(MODEL_INSTANCE_NAME)&nbsp;;\n&nbsp;&nbsp;&nbsp;&nbsp;ModelID&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;=&nbsp;ID&nbsp;;\n--&nbsp;&nbsp;&nbsp;&nbsp;ProtocolID&nbsp;&nbsp;&nbsp;&nbsp;&lt;=&nbsp;NewID(&quot;Protocol&nbsp;Error&quot;,&nbsp;ID&nbsp;)&nbsp;;\n&nbsp;&nbsp;&nbsp;&nbsp;DataCheckID&nbsp;&nbsp;&nbsp;&lt;=&nbsp;NewID(&quot;Data&nbsp;Check&quot;,&nbsp;ID&nbsp;)&nbsp;;\n&nbsp;&nbsp;&nbsp;&nbsp;BusFailedID&nbsp;&nbsp;&nbsp;&lt;=&nbsp;NewID(&quot;No&nbsp;response&quot;,&nbsp;ID&nbsp;)&nbsp;;\n&nbsp;&nbsp;&nbsp;&nbsp;ReceiveFifo&nbsp;&nbsp;&nbsp;&lt;=&nbsp;NewID(&quot;ReceiveFifo&quot;,&nbsp;ID,&nbsp;ReportMode&nbsp;=&gt;&nbsp;DISABLED,&nbsp;Search&nbsp;=&gt;&nbsp;PRIVATE_NAME)&nbsp;;\n&nbsp;&nbsp;&nbsp;&nbsp;wait&nbsp;;\n&nbsp;&nbsp;end&nbsp;process&nbsp;Initialize&nbsp;;\n&nbsp;\n&nbsp;\n&nbsp;&nbsp;------------------------------------------------------------\n&nbsp;&nbsp;--&nbsp;&nbsp;Transaction&nbsp;Dispatcher\n&nbsp;&nbsp;--&nbsp;&nbsp;&nbsp;&nbsp;Dispatches&nbsp;transactions&nbsp;to\n&nbsp;&nbsp;------------------------------------------------------------\n&nbsp;&nbsp;TransactionDispatcher&nbsp;:&nbsp;process\n&nbsp;&nbsp;&nbsp;&nbsp;alias&nbsp;Operation&nbsp;:&nbsp;StreamOperationType&nbsp;is&nbsp;TransRec.Operation&nbsp;;\n&nbsp;&nbsp;&nbsp;&nbsp;variable&nbsp;Data,&nbsp;&nbsp;ExpectedData,&nbsp;&nbsp;PopData&nbsp;&nbsp;:&nbsp;std_logic_vector(TData&apos;range)&nbsp;;\n&nbsp;&nbsp;&nbsp;&nbsp;variable&nbsp;Param,&nbsp;ExpectedParam,&nbsp;PopParam&nbsp;:&nbsp;std_logic_vector(PARAM_LENGTH-1&nbsp;downto&nbsp;0)&nbsp;;\n&nbsp;&nbsp;&nbsp;&nbsp;variable&nbsp;ExpectedUser&nbsp;:&nbsp;std_logic_vector(USER_LEN-1&nbsp;downto&nbsp;0)&nbsp;;\n&nbsp;&nbsp;&nbsp;&nbsp;variable&nbsp;TryWordWaiting,&nbsp;TryBurstWaiting&nbsp;:&nbsp;boolean&nbsp;;&nbsp;\n&nbsp;&nbsp;&nbsp;&nbsp;variable&nbsp;DispatcherReceiveCount&nbsp;:&nbsp;integer&nbsp;:=&nbsp;0&nbsp;;\n&nbsp;&nbsp;&nbsp;&nbsp;variable&nbsp;BurstTransferCount&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:&nbsp;integer&nbsp;:=&nbsp;0&nbsp;;\n&nbsp;&nbsp;&nbsp;&nbsp;variable&nbsp;WordCount&nbsp;:&nbsp;integer&nbsp;;\n&nbsp;&nbsp;&nbsp;&nbsp;variable&nbsp;FifoWordCount,&nbsp;CheckWordCount&nbsp;:&nbsp;integer&nbsp;;\n&nbsp;&nbsp;&nbsp;&nbsp;variable&nbsp;BurstBoundary&nbsp;&nbsp;:&nbsp;std_logic&nbsp;;\n&nbsp;&nbsp;&nbsp;&nbsp;variable&nbsp;DropUndriven&nbsp;&nbsp;&nbsp;:&nbsp;boolean&nbsp;:=&nbsp;FALSE&nbsp;;\n&nbsp;&nbsp;&nbsp;&nbsp;function&nbsp;param_to_string(Param&nbsp;:&nbsp;std_logic_vector)&nbsp;return&nbsp;string&nbsp;is\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;alias&nbsp;aParam&nbsp;:&nbsp;std_logic_vector(Param&apos;length-1&nbsp;downto&nbsp;0)&nbsp;is&nbsp;Param&nbsp;;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;alias&nbsp;ID&nbsp;&nbsp;&nbsp;:&nbsp;std_logic_vector(ID_LEN-1&nbsp;downto&nbsp;0)&nbsp;&nbsp;&nbsp;is&nbsp;aParam(PARAM_LENGTH-1&nbsp;downto&nbsp;PARAM_LENGTH-ID_LEN);\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;alias&nbsp;Dest&nbsp;:&nbsp;std_logic_vector(DEST_LEN-1&nbsp;downto&nbsp;0)&nbsp;is&nbsp;aParam(DEST_LEN+USER_LEN&nbsp;downto&nbsp;USER_LEN+1);\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;alias&nbsp;User&nbsp;:&nbsp;std_logic_vector(USER_LEN-1&nbsp;downto&nbsp;0)&nbsp;is&nbsp;aParam(USER_LEN&nbsp;downto&nbsp;1)&nbsp;;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;alias&nbsp;Last&nbsp;:&nbsp;std_logic&nbsp;is&nbsp;Param(0)&nbsp;;\n&nbsp;&nbsp;&nbsp;&nbsp;begin\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ifelse(ID_LEN&nbsp;&gt;&nbsp;0,&nbsp;&nbsp;&nbsp;&quot;&nbsp;&nbsp;TID:&nbsp;&quot;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;&nbsp;to_hxstring(ID),&nbsp;&nbsp;&nbsp;&quot;&quot;)&nbsp;&amp;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ifelse(DEST_LEN&nbsp;&gt;&nbsp;0,&nbsp;&quot;&nbsp;&nbsp;TDest:&nbsp;&quot;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;&nbsp;to_hxstring(Dest),&nbsp;&quot;&quot;)&nbsp;&amp;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ifelse(USER_LEN&nbsp;&gt;&nbsp;0,&nbsp;&quot;&nbsp;&nbsp;TUser:&nbsp;&quot;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;&nbsp;to_hxstring(User),&nbsp;&quot;&quot;)&nbsp;&amp;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&nbsp;&nbsp;TLast:&nbsp;&quot;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;&nbsp;to_string(Last)&nbsp;;\n&nbsp;&nbsp;&nbsp;&nbsp;end&nbsp;function&nbsp;param_to_string&nbsp;;\n&nbsp;\n&nbsp;&nbsp;begin\n&nbsp;&nbsp;&nbsp;&nbsp;wait&nbsp;for&nbsp;0&nbsp;ns&nbsp;;&nbsp;&nbsp;--&nbsp;Allow&nbsp;ModelID&nbsp;to&nbsp;initialize\n&nbsp;&nbsp;&nbsp;&nbsp;TransRec.BurstFifo&nbsp;&lt;=&nbsp;NewID(&quot;RxBurstFifo&quot;,&nbsp;ModelID,&nbsp;Search&nbsp;=&gt;&nbsp;PRIVATE_NAME)&nbsp;;\n&nbsp;&nbsp;&nbsp;&nbsp;BurstCov&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;=&nbsp;NewID(&quot;DelayCov&quot;,&nbsp;&nbsp;&nbsp;&nbsp;ModelID,&nbsp;ReportMode&nbsp;=&gt;&nbsp;DISABLED,&nbsp;Search&nbsp;=&gt;&nbsp;NAME_AND_PARENT)&nbsp;;\n&nbsp;&nbsp;&nbsp;&nbsp;wait&nbsp;for&nbsp;0&nbsp;ns&nbsp;;&nbsp;&nbsp;--&nbsp;Allow&nbsp;TransRec.BurstFifo&nbsp;to&nbsp;update.\n&nbsp;&nbsp;&nbsp;&nbsp;BurstFifoID&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;=&nbsp;GetAlertLogID(TransRec.BurstFifo)&nbsp;;\n&nbsp;\n&nbsp;&nbsp;&nbsp;&nbsp;DispatchLoop&nbsp;:&nbsp;loop\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;WaitForTransaction(\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Clk&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&gt;&nbsp;Clk,\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Rdy&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&gt;&nbsp;TransRec.Rdy,\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Ack&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&gt;&nbsp;TransRec.Ack\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;)&nbsp;;\n&nbsp;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;case&nbsp;Operation&nbsp;is\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;when&nbsp;WAIT_FOR_CLOCK&nbsp;=&gt;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;WaitForClock(Clk,&nbsp;TransRec.IntToModel)&nbsp;;\n&nbsp;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;when&nbsp;WAIT_FOR_TRANSACTION&nbsp;=&gt;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;--&nbsp;Receiver&nbsp;either&nbsp;blocks&nbsp;or&nbsp;does&nbsp;&quot;try&quot;&nbsp;operations\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;--&nbsp;There&nbsp;are&nbsp;no&nbsp;operations&nbsp;in&nbsp;flight\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;--&nbsp;There&nbsp;can&nbsp;be&nbsp;values&nbsp;received&nbsp;but&nbsp;not&nbsp;Get&nbsp;yet.\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;--&nbsp;Cannot&nbsp;block&nbsp;on&nbsp;those.\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;wait&nbsp;for&nbsp;0&nbsp;ns&nbsp;;\n&nbsp;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;when&nbsp;GET_TRANSACTION_COUNT&nbsp;=&gt;\n&nbsp;&nbsp;--!!&nbsp;This&nbsp;is&nbsp;GetTotalTransactionCount&nbsp;vs.&nbsp;GetPendingTransactionCount\n&nbsp;&nbsp;--!!&nbsp;&nbsp;Get&nbsp;Pending&nbsp;Get&nbsp;Count&nbsp;=&nbsp;GetFifoCount(ReceiveFifo)\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;TransRec.IntFromModel&nbsp;&lt;=&nbsp;WordReceiveCount&nbsp;;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;wait&nbsp;for&nbsp;0&nbsp;ns&nbsp;;\n&nbsp;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;when&nbsp;GET_ALERTLOG_ID&nbsp;=&gt;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;TransRec.IntFromModel&nbsp;&lt;=&nbsp;integer(ModelID)&nbsp;;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;wait&nbsp;for&nbsp;0&nbsp;ns&nbsp;;\n&nbsp;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;when&nbsp;SET_USE_RANDOM_DELAYS&nbsp;=&gt;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;UseCoverageDelays&nbsp;&lt;=&nbsp;TransRec.BoolToModel&nbsp;;&nbsp;\n&nbsp;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;when&nbsp;GET_USE_RANDOM_DELAYS&nbsp;=&gt;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;TransRec.BoolFromModel&nbsp;&lt;=&nbsp;UseCoverageDelays&nbsp;;\n&nbsp;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;when&nbsp;SET_DELAYCOV_ID&nbsp;=&gt;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;BurstCov&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;=&nbsp;GetDelayCoverage(TransRec.IntToModel)&nbsp;;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;UseCoverageDelays&nbsp;&lt;=&nbsp;TRUE&nbsp;;&nbsp;\n&nbsp;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;when&nbsp;GET_DELAYCOV_ID&nbsp;=&gt;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;TransRec.IntFromModel&nbsp;&lt;=&nbsp;BurstCov.ID&nbsp;;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;UseCoverageDelays&nbsp;&lt;=&nbsp;TRUE&nbsp;;&nbsp;\n&nbsp;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;when&nbsp;SET_BURST_MODE&nbsp;=&gt;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;BurstFifoMode&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;=&nbsp;TransRec.IntToModel&nbsp;;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;BurstFifoByteMode&nbsp;&nbsp;&nbsp;&lt;=&nbsp;(TransRec.IntToModel&nbsp;=&nbsp;STREAM_BURST_BYTE_MODE)&nbsp;;\n&nbsp;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;when&nbsp;GET_BURST_MODE&nbsp;=&gt;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;TransRec.IntFromModel&nbsp;&lt;=&nbsp;BurstFifoMode&nbsp;;\n&nbsp;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;when&nbsp;GOT_BURST&nbsp;=&gt;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;--&nbsp;Used&nbsp;with&nbsp;TryCheckBurst&nbsp;with&nbsp;Patterns&nbsp;VectorOfWords,&nbsp;Increment,&nbsp;Random\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;not&nbsp;TryBurstWaiting&nbsp;then\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;increment(BurstRequestCount)&nbsp;;&nbsp;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;end&nbsp;if&nbsp;;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;TryBurstWaiting&nbsp;:=&nbsp;TRUE&nbsp;;&nbsp;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(BurstReceiveCount&nbsp;-&nbsp;BurstTransferCount)&nbsp;=&nbsp;0&nbsp;then\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;TransRec.BoolFromModel&nbsp;&nbsp;&lt;=&nbsp;FALSE&nbsp;;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;TransRec.BoolFromModel&nbsp;&lt;=&nbsp;TRUE&nbsp;;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;end&nbsp;if&nbsp;;\n&nbsp;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;when&nbsp;GET&nbsp;|&nbsp;TRY_GET&nbsp;|&nbsp;CHECK&nbsp;|&nbsp;TRY_CHECK&nbsp;=&gt;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;Empty(ReceiveFifo)&nbsp;and&nbsp;&nbsp;IsTry(Operation)&nbsp;then\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;not&nbsp;TryWordWaiting&nbsp;then\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;increment(WordRequestCount)&nbsp;;&nbsp;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;end&nbsp;if&nbsp;;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;TryWordWaiting&nbsp;:=&nbsp;TRUE&nbsp;;&nbsp;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;--&nbsp;Return&nbsp;if&nbsp;no&nbsp;data\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;TransRec.BoolFromModel&nbsp;&nbsp;&lt;=&nbsp;FALSE&nbsp;;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;TransRec.DataFromModel&nbsp;&nbsp;&lt;=&nbsp;(TransRec.DataFromModel&apos;range&nbsp;=&gt;&nbsp;&apos;0&apos;)&nbsp;;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;TransRec.ParamFromModel&nbsp;&lt;=&nbsp;(TransRec.ParamFromModel&apos;range&nbsp;=&gt;&nbsp;&apos;0&apos;)&nbsp;;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;wait&nbsp;for&nbsp;0&nbsp;ns&nbsp;;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;not&nbsp;TryWordWaiting&nbsp;then\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;increment(WordRequestCount)&nbsp;;&nbsp;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;end&nbsp;if&nbsp;;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;TryWordWaiting&nbsp;:=&nbsp;FALSE&nbsp;;&nbsp;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;DispatcherReceiveCount&nbsp;:=&nbsp;DispatcherReceiveCount&nbsp;+&nbsp;1&nbsp;;\n&nbsp;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;--&nbsp;Get&nbsp;data\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;TransRec.BoolFromModel&nbsp;&lt;=&nbsp;TRUE&nbsp;;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;Empty(ReceiveFifo)&nbsp;then\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;--&nbsp;Wait&nbsp;for&nbsp;data\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;WaitForToggle(WordReceiveCount)&nbsp;;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;end&nbsp;if&nbsp;;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;--&nbsp;Put&nbsp;Data&nbsp;and&nbsp;Parameters&nbsp;into&nbsp;record\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(Data,&nbsp;Param,&nbsp;BurstBoundary)&nbsp;:=&nbsp;pop(ReceiveFifo)&nbsp;;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;BurstBoundary&nbsp;=&nbsp;&apos;1&apos;&nbsp;then\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;--&nbsp;At&nbsp;BurstBoundary,&nbsp;there&nbsp;is&nbsp;always&nbsp;another&nbsp;word&nbsp;that\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;--&nbsp;follows&nbsp;that&nbsp;triggered&nbsp;the&nbsp;Burst&nbsp;Boundary\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(Data,&nbsp;Param,&nbsp;BurstBoundary)&nbsp;:=&nbsp;pop(ReceiveFifo)&nbsp;;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;BurstTransferCount&nbsp;:=&nbsp;BurstTransferCount&nbsp;+&nbsp;1&nbsp;;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;end&nbsp;if&nbsp;;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;TransRec.DataFromModel&nbsp;&nbsp;&lt;=&nbsp;SafeResize(Data,&nbsp;TransRec.DataFromModel&apos;length)&nbsp;;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;TransRec.ParamFromModel&nbsp;&lt;=&nbsp;SafeResize(Param,&nbsp;TransRec.ParamFromModel&apos;length)&nbsp;;\n&nbsp;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;--&nbsp;Param:&nbsp;(TID&nbsp;&amp;&nbsp;TDest&nbsp;&amp;&nbsp;TUser&nbsp;&amp;&nbsp;TLast)\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;Param(0)&nbsp;=&nbsp;&apos;1&apos;&nbsp;then\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;BurstTransferCount&nbsp;:=&nbsp;BurstTransferCount&nbsp;+&nbsp;1&nbsp;;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;end&nbsp;if&nbsp;;\n&nbsp;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;IsCheck(Operation)&nbsp;then\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ExpectedData&nbsp;&nbsp;:=&nbsp;SafeResize(TransRec.DataToModel,&nbsp;ExpectedData&apos;length)&nbsp;;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ExpectedParam&nbsp;&nbsp;:=&nbsp;UpdateOptions(\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Param&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&gt;&nbsp;SafeResize(TransRec.ParamToModel,&nbsp;ExpectedParam&apos;length),\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ParamID&nbsp;&nbsp;&nbsp;&nbsp;=&gt;&nbsp;ParamID,\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ParamDest&nbsp;&nbsp;=&gt;&nbsp;ParamDest,\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ParamUser&nbsp;&nbsp;=&gt;&nbsp;ParamUser,\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ParamLast&nbsp;&nbsp;=&gt;&nbsp;ParamLast,\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Count&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&gt;&nbsp;WordReceiveCount&nbsp;-&nbsp;LastOffsetCount\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;)&nbsp;;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;AffirmIf(&nbsp;DataCheckID,\n&nbsp;&nbsp;--&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(Data&nbsp;?=&nbsp;ExpectedData&nbsp;and&nbsp;Param&nbsp;?=&nbsp;ExpectedParam)&nbsp;=&nbsp;&apos;1&apos;,\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(MetaMatch(Data,&nbsp;ExpectedData)&nbsp;and&nbsp;MetaMatch(Param,&nbsp;ExpectedParam)),\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;Operation#&nbsp;&quot;&nbsp;&amp;&nbsp;to_string&nbsp;(DispatcherReceiveCount)&nbsp;&amp;&nbsp;&quot;&nbsp;&quot;&nbsp;&amp;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&nbsp;Received.&nbsp;&nbsp;Data:&nbsp;&quot;&nbsp;&amp;&nbsp;to_hxstring(Data)&nbsp;&amp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;param_to_string(Param),\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&nbsp;Expected.&nbsp;&nbsp;Data:&nbsp;&quot;&nbsp;&amp;&nbsp;to_hxstring(ExpectedData)&nbsp;&amp;&nbsp;param_to_string(ExpectedParam),\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;TransRec.BoolToModel&nbsp;or&nbsp;IsLogEnabled(ModelID,&nbsp;INFO)\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;)&nbsp;;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Log(ModelID,\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;Word&nbsp;Receive.&nbsp;&quot;&nbsp;&amp;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&nbsp;Operation#&nbsp;&quot;&nbsp;&amp;&nbsp;to_string&nbsp;(DispatcherReceiveCount)&nbsp;&amp;&nbsp;&nbsp;&quot;&nbsp;&quot;&nbsp;&amp;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&nbsp;Data:&nbsp;&quot;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;&nbsp;to_hxstring(Data)&nbsp;&amp;&nbsp;param_to_string(Param),\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;INFO,&nbsp;TransRec.BoolToModel\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;)&nbsp;;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;end&nbsp;if&nbsp;;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;end&nbsp;if&nbsp;;\n&nbsp;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;when&nbsp;GET_BURST&nbsp;|&nbsp;TRY_GET_BURST&nbsp;=&gt;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(BurstReceiveCount&nbsp;-&nbsp;BurstTransferCount)&nbsp;=&nbsp;0&nbsp;and&nbsp;IsTry(Operation)&nbsp;then\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;not&nbsp;TryBurstWaiting&nbsp;then\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;increment(BurstRequestCount)&nbsp;;&nbsp;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;end&nbsp;if&nbsp;;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;TryBurstWaiting&nbsp;:=&nbsp;TRUE&nbsp;;&nbsp;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;--&nbsp;Return&nbsp;if&nbsp;no&nbsp;data\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;TransRec.BoolFromModel&nbsp;&nbsp;&lt;=&nbsp;FALSE&nbsp;;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;TransRec.DataFromModel&nbsp;&nbsp;&lt;=&nbsp;(TransRec.DataFromModel&apos;range&nbsp;=&gt;&nbsp;&apos;0&apos;)&nbsp;;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;TransRec.ParamFromModel&nbsp;&lt;=&nbsp;(TransRec.ParamFromModel&apos;range&nbsp;=&gt;&nbsp;&apos;0&apos;)&nbsp;;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;wait&nbsp;for&nbsp;0&nbsp;ns&nbsp;;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;not&nbsp;TryBurstWaiting&nbsp;then\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;increment(BurstRequestCount)&nbsp;;&nbsp;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;end&nbsp;if&nbsp;;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;TryBurstWaiting&nbsp;:=&nbsp;FALSE&nbsp;;&nbsp;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;DispatcherReceiveCount&nbsp;:=&nbsp;DispatcherReceiveCount&nbsp;+&nbsp;1&nbsp;;&nbsp;--&nbsp;Operation&nbsp;or&nbsp;#Words&nbsp;Transfered&nbsp;based?\n&nbsp;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;--&nbsp;Get&nbsp;data\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;TransRec.BoolFromModel&nbsp;&lt;=&nbsp;TRUE&nbsp;;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(BurstReceiveCount&nbsp;-&nbsp;BurstTransferCount)&nbsp;=&nbsp;0&nbsp;then\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;--&nbsp;Wait&nbsp;for&nbsp;data\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;WaitForToggle(BurstReceiveCount)&nbsp;;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;end&nbsp;if&nbsp;;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;--&nbsp;ReceiveFIFO:&nbsp;(TData&nbsp;&amp;&nbsp;TID&nbsp;&amp;&nbsp;TDest&nbsp;&amp;&nbsp;TUser&nbsp;&amp;&nbsp;TLast)\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;FifoWordCount&nbsp;:=&nbsp;0&nbsp;;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;WordCount&nbsp;:=&nbsp;0&nbsp;;&nbsp;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;loop\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(PopData,&nbsp;PopParam,&nbsp;BurstBoundary)&nbsp;:=&nbsp;pop(ReceiveFifo)&nbsp;;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;--&nbsp;BurstBoundary&nbsp;indication&nbsp;does&nbsp;not&nbsp;contain&nbsp;data&nbsp;for\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;--&nbsp;this&nbsp;transaction&nbsp;so&nbsp;exit\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;exit&nbsp;when&nbsp;BurstBoundary&nbsp;=&nbsp;&apos;1&apos;&nbsp;;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;WordCount&nbsp;:=&nbsp;WordCount&nbsp;+&nbsp;1&nbsp;;&nbsp;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Data&nbsp;&nbsp;:=&nbsp;PopData&nbsp;;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Param&nbsp;:=&nbsp;PopParam&nbsp;;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;case&nbsp;BurstFifoMode&nbsp;is\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;when&nbsp;STREAM_BURST_BYTE_MODE&nbsp;=&gt;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;PushWord(TransRec.BurstFifo,&nbsp;Data,&nbsp;DropUndriven)&nbsp;;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;FifoWordCount&nbsp;:=&nbsp;FifoWordCount&nbsp;+&nbsp;CountBytes(Data,&nbsp;DropUndriven)&nbsp;;\n&nbsp;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;when&nbsp;STREAM_BURST_WORD_MODE&nbsp;=&gt;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Push(TransRec.BurstFifo,&nbsp;Data)&nbsp;;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;FifoWordCount&nbsp;:=&nbsp;FifoWordCount&nbsp;+&nbsp;1&nbsp;;\n&nbsp;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;when&nbsp;STREAM_BURST_WORD_PARAM_MODE&nbsp;=&gt;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Push(TransRec.BurstFifo,&nbsp;Data&nbsp;&amp;&nbsp;Param(USER_LEN&nbsp;downto&nbsp;1))&nbsp;;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;FifoWordCount&nbsp;:=&nbsp;FifoWordCount&nbsp;+&nbsp;1&nbsp;;\n&nbsp;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;when&nbsp;others&nbsp;=&gt;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Alert(ModelID,&nbsp;&quot;BurstFifoMode:&nbsp;Invalid&nbsp;Mode:&nbsp;&quot;&nbsp;&amp;&nbsp;to_string(BurstFifoMode))&nbsp;;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;end&nbsp;case&nbsp;;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;exit&nbsp;when&nbsp;Param(0)&nbsp;=&nbsp;&apos;1&apos;&nbsp;;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;end&nbsp;loop&nbsp;;\n&nbsp;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;--&nbsp;Adjust&nbsp;WordRequestCount&nbsp;for&nbsp;the&nbsp;number&nbsp;of&nbsp;words&nbsp;consumed&nbsp;during&nbsp;the&nbsp;burst\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;WordRequestCount&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;=&nbsp;Increment(WordRequestCount,&nbsp;WordCount)&nbsp;;&nbsp;\n&nbsp;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;BurstTransferCount&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:=&nbsp;BurstTransferCount&nbsp;+&nbsp;1&nbsp;;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;TransRec.IntFromModel&nbsp;&nbsp;&nbsp;&lt;=&nbsp;FifoWordCount&nbsp;;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;TransRec.DataFromModel&nbsp;&nbsp;&lt;=&nbsp;SafeResize(Data,&nbsp;TransRec.DataFromModel&apos;length)&nbsp;;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;TransRec.ParamFromModel&nbsp;&lt;=&nbsp;SafeResize(Param,&nbsp;TransRec.ParamFromModel&apos;length)&nbsp;;\n&nbsp;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Log(ModelID,\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;Burst&nbsp;Receive.&nbsp;&quot;&nbsp;&amp;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&nbsp;Operation#&nbsp;&quot;&nbsp;&amp;&nbsp;to_string&nbsp;(DispatcherReceiveCount)&nbsp;&amp;&nbsp;&nbsp;&quot;&nbsp;&quot;&nbsp;&amp;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&nbsp;Last&nbsp;Data:&nbsp;&quot;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;&nbsp;to_hxstring(Data)&nbsp;&amp;&nbsp;param_to_string(Param),\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;INFO,&nbsp;TransRec.BoolToModel&nbsp;or&nbsp;IsLogEnabled(ModelID,&nbsp;PASSED)\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;)&nbsp;;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;wait&nbsp;for&nbsp;0&nbsp;ns&nbsp;;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;end&nbsp;if&nbsp;;\n&nbsp;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;when&nbsp;CHECK_BURST&nbsp;|&nbsp;TRY_CHECK_BURST&nbsp;=&gt;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(BurstReceiveCount&nbsp;-&nbsp;BurstTransferCount)&nbsp;=&nbsp;0&nbsp;and&nbsp;IsTry(Operation)&nbsp;then\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;not&nbsp;TryBurstWaiting&nbsp;then\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;increment(BurstRequestCount)&nbsp;;&nbsp;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;end&nbsp;if&nbsp;;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;TryBurstWaiting&nbsp;:=&nbsp;TRUE&nbsp;;&nbsp;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;--&nbsp;Return&nbsp;if&nbsp;no&nbsp;data\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;TransRec.BoolFromModel&nbsp;&nbsp;&lt;=&nbsp;FALSE&nbsp;;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;TransRec.DataFromModel&nbsp;&nbsp;&lt;=&nbsp;(TransRec.DataFromModel&apos;range&nbsp;=&gt;&nbsp;&apos;0&apos;)&nbsp;;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;TransRec.ParamFromModel&nbsp;&lt;=&nbsp;(TransRec.ParamFromModel&apos;range&nbsp;=&gt;&nbsp;&apos;0&apos;)&nbsp;;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;wait&nbsp;for&nbsp;0&nbsp;ns&nbsp;;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;not&nbsp;TryBurstWaiting&nbsp;then\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;increment(BurstRequestCount)&nbsp;;&nbsp;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;end&nbsp;if&nbsp;;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;TryBurstWaiting&nbsp;:=&nbsp;FALSE&nbsp;;&nbsp;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;DispatcherReceiveCount&nbsp;:=&nbsp;DispatcherReceiveCount&nbsp;+&nbsp;1&nbsp;;&nbsp;--&nbsp;Operation&nbsp;or&nbsp;#Words&nbsp;Transfered&nbsp;based?\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;--&nbsp;Get&nbsp;data\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;TransRec.BoolFromModel&nbsp;&lt;=&nbsp;TRUE&nbsp;;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(BurstReceiveCount&nbsp;-&nbsp;BurstTransferCount)&nbsp;=&nbsp;0&nbsp;then\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;--&nbsp;Wait&nbsp;for&nbsp;data\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;WaitForToggle(BurstReceiveCount)&nbsp;;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;end&nbsp;if&nbsp;;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CheckWordCount&nbsp;:=&nbsp;TransRec.IntToModel&nbsp;;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;FifoWordCount&nbsp;&nbsp;:=&nbsp;0&nbsp;;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;WordCount&nbsp;:=&nbsp;0&nbsp;;&nbsp;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;loop\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;--&nbsp;ReceiveFIFO:&nbsp;(TData&nbsp;&amp;&nbsp;TID&nbsp;&amp;&nbsp;TDest&nbsp;&amp;&nbsp;TUser&nbsp;&amp;&nbsp;TLast)\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(PopData,&nbsp;PopParam,&nbsp;BurstBoundary)&nbsp;:=&nbsp;pop(ReceiveFifo)&nbsp;;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;--&nbsp;BurstBoundary&nbsp;indication&nbsp;does&nbsp;not&nbsp;contain&nbsp;data&nbsp;for\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;--&nbsp;this&nbsp;transaction&nbsp;so&nbsp;exit\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;exit&nbsp;when&nbsp;BurstBoundary&nbsp;=&nbsp;&apos;1&apos;&nbsp;;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;WordCount&nbsp;:=&nbsp;WordCount&nbsp;+&nbsp;1&nbsp;;&nbsp;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Data&nbsp;&nbsp;:=&nbsp;PopData&nbsp;;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Param&nbsp;:=&nbsp;PopParam&nbsp;;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;case&nbsp;BurstFifoMode&nbsp;is\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;when&nbsp;STREAM_BURST_BYTE_MODE&nbsp;=&gt;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CheckWord(TransRec.BurstFifo,&nbsp;Data,&nbsp;DropUndriven)&nbsp;;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;FifoWordCount&nbsp;:=&nbsp;FifoWordCount&nbsp;+&nbsp;CountBytes(Data,&nbsp;DropUndriven)&nbsp;;\n&nbsp;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;when&nbsp;STREAM_BURST_WORD_MODE&nbsp;=&gt;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Check(TransRec.BurstFifo,&nbsp;Data)&nbsp;;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;FifoWordCount&nbsp;:=&nbsp;FifoWordCount&nbsp;+&nbsp;1&nbsp;;\n&nbsp;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;when&nbsp;STREAM_BURST_WORD_PARAM_MODE&nbsp;=&gt;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;--&nbsp;Checking&nbsp;done&nbsp;here&nbsp;to&nbsp;differentiate&nbsp;data&nbsp;from&nbsp;user\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(ExpectedData,&nbsp;ExpectedUser)&nbsp;:=&nbsp;Pop(TransRec.BurstFifo)&nbsp;;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;AffirmIfEqual(BurstFifoID,&nbsp;Data,&nbsp;ExpectedData,&nbsp;&quot;Data&quot;)&nbsp;;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;AffirmIfEqual(BurstFifoID,&nbsp;Param(USER_LEN&nbsp;downto&nbsp;1),&nbsp;ExpectedUser,&nbsp;&quot;User&quot;)&nbsp;;\n&nbsp;&nbsp;--&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Check(TransRec.BurstFifo,&nbsp;Data&nbsp;&amp;&nbsp;Param(USER_LEN&nbsp;downto&nbsp;1))&nbsp;;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;FifoWordCount&nbsp;:=&nbsp;FifoWordCount&nbsp;+&nbsp;1&nbsp;;\n&nbsp;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;when&nbsp;others&nbsp;=&gt;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Alert(ModelID,&nbsp;&quot;BurstFifoMode:&nbsp;Invalid&nbsp;Mode:&nbsp;&quot;&nbsp;&amp;&nbsp;to_string(BurstFifoMode))&nbsp;;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;end&nbsp;case&nbsp;;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;exit&nbsp;when&nbsp;Param(0)&nbsp;=&nbsp;&apos;1&apos;&nbsp;;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;exit&nbsp;when&nbsp;FifoWordCount&nbsp;&gt;=&nbsp;CheckWordCount&nbsp;;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;end&nbsp;loop&nbsp;;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;--&nbsp;Adjust&nbsp;WordRequestCount&nbsp;for&nbsp;the&nbsp;number&nbsp;of&nbsp;words&nbsp;consumed&nbsp;during&nbsp;the&nbsp;burst\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;WordRequestCount&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;=&nbsp;Increment(WordRequestCount,&nbsp;WordCount)&nbsp;;&nbsp;\n&nbsp;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;BurstTransferCount&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:=&nbsp;BurstTransferCount&nbsp;+&nbsp;1&nbsp;;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;TransRec.IntFromModel&nbsp;&nbsp;&nbsp;&lt;=&nbsp;FifoWordCount&nbsp;;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;TransRec.DataFromModel&nbsp;&nbsp;&lt;=&nbsp;SafeResize(Data,&nbsp;TransRec.DataFromModel&apos;length)&nbsp;;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;TransRec.ParamFromModel&nbsp;&lt;=&nbsp;SafeResize(Param,&nbsp;TransRec.ParamFromModel&apos;length)&nbsp;;\n&nbsp;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Log(ModelID,\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;Burst&nbsp;Check.&nbsp;&quot;&nbsp;&amp;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&nbsp;Operation#&nbsp;&quot;&nbsp;&amp;&nbsp;to_string&nbsp;(DispatcherReceiveCount)&nbsp;&amp;&nbsp;&nbsp;&quot;&nbsp;&quot;&nbsp;&amp;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&nbsp;Last&nbsp;Data:&nbsp;&quot;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;&nbsp;to_hxstring(Data)&nbsp;&amp;&nbsp;param_to_string(Param),\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;INFO,&nbsp;TransRec.BoolToModel&nbsp;or&nbsp;IsLogEnabled(ModelID,&nbsp;PASSED)\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;)&nbsp;;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;not&nbsp;(BurstBoundary&nbsp;=&nbsp;&apos;1&apos;&nbsp;or&nbsp;Param(0)&nbsp;=&nbsp;&apos;1&apos;)&nbsp;then\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Log(ModelID,\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;Burst&nbsp;Check&nbsp;finished&nbsp;without&nbsp;Last&nbsp;or&nbsp;BurstBoundary&nbsp;-&nbsp;normal&nbsp;when&nbsp;next&nbsp;word&nbsp;is&nbsp;burst&nbsp;boundary&quot;,\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;DEBUG\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;)&nbsp;;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;end&nbsp;if&nbsp;;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;AffirmIfEqual(ModelID,&nbsp;FifoWordCount,&nbsp;CheckWordCount,&nbsp;&quot;Burst&nbsp;Check&nbsp;WordCount&quot;)&nbsp;;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ExpectedParam&nbsp;&nbsp;:=&nbsp;UpdateOptions(\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Param&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&gt;&nbsp;SafeResize(TransRec.ParamToModel,&nbsp;ExpectedParam&apos;length),\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ParamID&nbsp;&nbsp;&nbsp;&nbsp;=&gt;&nbsp;ParamID,\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ParamDest&nbsp;&nbsp;=&gt;&nbsp;ParamDest,\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ParamUser&nbsp;&nbsp;=&gt;&nbsp;ParamUser,\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ParamLast&nbsp;&nbsp;=&gt;&nbsp;1,\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Count&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&gt;&nbsp;0\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;)&nbsp;;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;--&nbsp;ID,&nbsp;Dest,&nbsp;User,&nbsp;Last\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;ID_LEN&nbsp;&gt;&nbsp;0&nbsp;then\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;AffirmIfEqual(ModelID,&nbsp;Param(ID_RIGHT+ID_LEN-1&nbsp;downto&nbsp;ID_RIGHT),\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ExpectedParam(ID_RIGHT+ID_LEN-1&nbsp;downto&nbsp;ID_RIGHT),&nbsp;&quot;ID&quot;)&nbsp;;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;end&nbsp;if&nbsp;;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;DEST_LEN&nbsp;&gt;&nbsp;0&nbsp;then\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;AffirmIfEqual(ModelID,&nbsp;Param(DEST_RIGHT+DEST_LEN-1&nbsp;downto&nbsp;DEST_RIGHT),\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ExpectedParam(DEST_RIGHT+DEST_LEN-1&nbsp;downto&nbsp;DEST_RIGHT),&nbsp;&quot;DEST&quot;)&nbsp;;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;end&nbsp;if&nbsp;;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;USER_LEN&nbsp;&gt;&nbsp;0&nbsp;and&nbsp;BurstFifoMode&nbsp;/=&nbsp;STREAM_BURST_WORD_PARAM_MODE&nbsp;then\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;AffirmIfEqual(ModelID,&nbsp;Param(USER_RIGHT+USER_LEN-1&nbsp;downto&nbsp;USER_RIGHT),\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ExpectedParam(USER_RIGHT+USER_LEN-1&nbsp;downto&nbsp;USER_RIGHT),&nbsp;&quot;USER&quot;)&nbsp;;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;end&nbsp;if&nbsp;;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;AffirmIfEqual(ModelID,&nbsp;Param(0)&nbsp;or&nbsp;BurstBoundary,&nbsp;ExpectedParam(0),&nbsp;&quot;Last&quot;)&nbsp;;\n&nbsp;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;wait&nbsp;for&nbsp;0&nbsp;ns&nbsp;;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;end&nbsp;if&nbsp;;\n&nbsp;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;when&nbsp;SET_MODEL_OPTIONS&nbsp;=&gt;\n&nbsp;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;case&nbsp;AxiStreamOptionsType&apos;val(TransRec.Options)&nbsp;is\n&nbsp;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;when&nbsp;RECEIVE_READY_BEFORE_VALID&nbsp;=&gt;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ReceiveReadyBeforeValid&nbsp;&lt;=&nbsp;TransRec.BoolToModel&nbsp;;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;UseCoverageDelays&nbsp;&lt;=&nbsp;FALSE&nbsp;;&nbsp;\n&nbsp;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;when&nbsp;RECEIVE_READY_DELAY_CYCLES&nbsp;=&gt;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ReceiveReadyDelayCycles&nbsp;&lt;=&nbsp;TransRec.IntToModel&nbsp;;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;UseCoverageDelays&nbsp;&lt;=&nbsp;FALSE&nbsp;;&nbsp;\n&nbsp;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;when&nbsp;RECEIVE_READY_WAIT_FOR_GET&nbsp;=&gt;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;WaitForGet&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;=&nbsp;TransRec.BoolToModel&nbsp;;\n&nbsp;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;when&nbsp;DROP_UNDRIVEN&nbsp;=&gt;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;DropUndriven&nbsp;&nbsp;&nbsp;&nbsp;:=&nbsp;TransRec.BoolToModel&nbsp;;\n&nbsp;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;when&nbsp;DEFAULT_ID&nbsp;=&gt;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ParamID&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;=&nbsp;SafeResize(TransRec.ParamToModel,&nbsp;ParamID&apos;length)&nbsp;;\n&nbsp;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;when&nbsp;DEFAULT_DEST&nbsp;=&gt;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ParamDest&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;=&nbsp;SafeResize(TransRec.ParamToModel,&nbsp;ParamDest&apos;length)&nbsp;;\n&nbsp;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;when&nbsp;DEFAULT_USER&nbsp;=&gt;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ParamUser&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;=&nbsp;SafeResize(TransRec.ParamToModel,&nbsp;ParamUser&apos;length)&nbsp;;\n&nbsp;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;when&nbsp;DEFAULT_LAST&nbsp;=&gt;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ParamLast&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;=&nbsp;TransRec.IntToModel&nbsp;;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;LastOffsetCount&nbsp;&lt;=&nbsp;WordReceiveCount&nbsp;;\n&nbsp;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;when&nbsp;others&nbsp;=&gt;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Alert(ModelID,&nbsp;&quot;SetOptions,&nbsp;Unimplemented&nbsp;Option:&nbsp;&quot;&nbsp;&amp;&nbsp;to_string(AxiStreamOptionsType&apos;val(TransRec.Options)),&nbsp;FAILURE)&nbsp;;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;wait&nbsp;for&nbsp;0&nbsp;ns&nbsp;;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;end&nbsp;case&nbsp;;\n&nbsp;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;when&nbsp;GET_MODEL_OPTIONS&nbsp;=&gt;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;case&nbsp;AxiStreamOptionsType&apos;val(TransRec.Options)&nbsp;is\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;when&nbsp;RECEIVE_READY_BEFORE_VALID&nbsp;=&gt;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;TransRec.BoolFromModel&nbsp;&nbsp;&nbsp;&lt;=&nbsp;&nbsp;ReceiveReadyBeforeValid&nbsp;;\n&nbsp;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;when&nbsp;RECEIVE_READY_DELAY_CYCLES&nbsp;=&gt;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;TransRec.IntFromModel&nbsp;&lt;=&nbsp;ReceiveReadyDelayCycles&nbsp;;\n&nbsp;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;when&nbsp;RECEIVE_READY_WAIT_FOR_GET&nbsp;=&gt;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;TransRec.BoolFromModel&nbsp;&lt;=&nbsp;WaitForGet&nbsp;;\n&nbsp;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;when&nbsp;DROP_UNDRIVEN&nbsp;=&gt;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;TransRec.BoolFromModel&nbsp;&lt;=&nbsp;DropUndriven&nbsp;;\n&nbsp;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;when&nbsp;DEFAULT_ID&nbsp;=&gt;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;TransRec.ParamFromModel&nbsp;&lt;=&nbsp;SafeResize(ParamID,&nbsp;TransRec.ParamFromModel&apos;length)&nbsp;;\n&nbsp;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;when&nbsp;DEFAULT_DEST&nbsp;=&gt;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;TransRec.ParamFromModel&nbsp;&lt;=&nbsp;SafeResize(ParamDest,&nbsp;TransRec.ParamFromModel&apos;length)&nbsp;;\n&nbsp;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;when&nbsp;DEFAULT_USER&nbsp;=&gt;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;TransRec.ParamFromModel&nbsp;&lt;=&nbsp;SafeResize(ParamUser,&nbsp;TransRec.ParamFromModel&apos;length)&nbsp;;\n&nbsp;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;when&nbsp;DEFAULT_LAST&nbsp;=&gt;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;TransRec.IntFromModel&nbsp;&nbsp;&nbsp;&lt;=&nbsp;ParamLast&nbsp;;\n&nbsp;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;when&nbsp;others&nbsp;=&gt;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Alert(ModelID,&nbsp;&quot;GetOptions,&nbsp;Unimplemented&nbsp;Option:&nbsp;&quot;&nbsp;&amp;&nbsp;to_string(AxiStreamOptionsType&apos;val(TransRec.Options)),&nbsp;FAILURE)&nbsp;;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;wait&nbsp;for&nbsp;0&nbsp;ns&nbsp;;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;end&nbsp;case&nbsp;;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;--&nbsp;The&nbsp;End&nbsp;--&nbsp;Done\n&nbsp;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;when&nbsp;MULTIPLE_DRIVER_DETECT&nbsp;=&gt;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Alert(ModelID,&nbsp;&quot;Multiple&nbsp;Drivers&nbsp;on&nbsp;Transaction&nbsp;Record.&quot;&nbsp;&amp;&nbsp;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&nbsp;&nbsp;Transaction&nbsp;#&nbsp;&quot;&nbsp;&amp;&nbsp;to_string(TransRec.Rdy),&nbsp;FAILURE)&nbsp;;\n&nbsp;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;when&nbsp;others&nbsp;=&gt;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Alert(ModelID,&nbsp;&quot;Unimplemented&nbsp;Transaction:&nbsp;&quot;&nbsp;&amp;&nbsp;to_string(Operation),&nbsp;FAILURE)&nbsp;;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;end&nbsp;case&nbsp;;\n&nbsp;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;--&nbsp;Wait&nbsp;for&nbsp;1&nbsp;delta&nbsp;cycle,&nbsp;required&nbsp;if&nbsp;a&nbsp;wait&nbsp;is&nbsp;not&nbsp;in&nbsp;all&nbsp;case&nbsp;branches&nbsp;above\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;wait&nbsp;for&nbsp;0&nbsp;ns&nbsp;;\n&nbsp;&nbsp;&nbsp;&nbsp;end&nbsp;loop&nbsp;DispatchLoop&nbsp;;\n&nbsp;&nbsp;end&nbsp;process&nbsp;TransactionDispatcher&nbsp;;\n&nbsp;\n&nbsp;\n&nbsp;&nbsp;------------------------------------------------------------\n&nbsp;&nbsp;--&nbsp;&nbsp;ReceiveHandler\n&nbsp;&nbsp;--&nbsp;&nbsp;&nbsp;&nbsp;Receive&nbsp;Stream&nbsp;Data&nbsp;Transactions\n&nbsp;&nbsp;------------------------------------------------------------\n&nbsp;&nbsp;ReceiveHandler&nbsp;:&nbsp;process\n&nbsp;&nbsp;&nbsp;&nbsp;variable&nbsp;Data&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:&nbsp;std_logic_vector(TData&apos;length-1&nbsp;downto&nbsp;0)&nbsp;;\n&nbsp;&nbsp;&nbsp;&nbsp;variable&nbsp;Last&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:&nbsp;std_logic&nbsp;;\n&nbsp;&nbsp;&nbsp;&nbsp;variable&nbsp;BurstBoundary&nbsp;&nbsp;:&nbsp;std_logic&nbsp;;\n&nbsp;&nbsp;&nbsp;&nbsp;variable&nbsp;LastID&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:&nbsp;std_logic_vector(TID&apos;range)&nbsp;&nbsp;&nbsp;:=&nbsp;(TID&apos;range&nbsp;&nbsp;&nbsp;=&gt;&nbsp;&apos;-&apos;)&nbsp;;\n&nbsp;&nbsp;&nbsp;&nbsp;variable&nbsp;LastDest&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:&nbsp;std_logic_vector(TDest&apos;range)&nbsp;:=&nbsp;(TDest&apos;range&nbsp;=&gt;&nbsp;&apos;-&apos;)&nbsp;;\n&nbsp;&nbsp;&nbsp;&nbsp;variable&nbsp;LastLast&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:&nbsp;std_logic&nbsp;:=&nbsp;&apos;1&apos;&nbsp;;\n--&nbsp;&nbsp;&nbsp;&nbsp;alias&nbsp;Strb&nbsp;:&nbsp;std_logic_vector(TStrb&apos;length-1&nbsp;downto&nbsp;0)&nbsp;is&nbsp;TStrb&nbsp;;\n--&nbsp;&nbsp;&nbsp;&nbsp;alias&nbsp;Keep&nbsp;:&nbsp;std_logic_vector(TKeep&apos;length-1&nbsp;downto&nbsp;0)&nbsp;is&nbsp;TKeep&nbsp;;\n&nbsp;&nbsp;&nbsp;&nbsp;variable&nbsp;Strb&nbsp;:&nbsp;std_logic_vector(TStrb&apos;length-1&nbsp;downto&nbsp;0)&nbsp;;\n&nbsp;&nbsp;&nbsp;&nbsp;variable&nbsp;Keep&nbsp;:&nbsp;std_logic_vector(TKeep&apos;length-1&nbsp;downto&nbsp;0)&nbsp;;\n&nbsp;\n&nbsp;&nbsp;&nbsp;&nbsp;variable&nbsp;ReadyBeforeValid,&nbsp;ReadyDelayCycles&nbsp;:&nbsp;integer&nbsp;;&nbsp;\n&nbsp;&nbsp;begin\n&nbsp;&nbsp;&nbsp;&nbsp;--&nbsp;Initialize\n&nbsp;&nbsp;&nbsp;&nbsp;TReady&nbsp;&nbsp;&lt;=&nbsp;&apos;0&apos;&nbsp;;\n&nbsp;&nbsp;&nbsp;&nbsp;wait&nbsp;for&nbsp;0&nbsp;ns&nbsp;;&nbsp;--&nbsp;Allow&nbsp;Cov&nbsp;models&nbsp;to&nbsp;initialize&nbsp;\n&nbsp;&nbsp;&nbsp;&nbsp;wait&nbsp;for&nbsp;0&nbsp;ns&nbsp;;&nbsp;--&nbsp;Allow&nbsp;Cov&nbsp;models&nbsp;to&nbsp;initialize&nbsp;\n&nbsp;&nbsp;&nbsp;&nbsp;--&nbsp;BurstLength&nbsp;-&nbsp;once&nbsp;per&nbsp;BurstLength,&nbsp;use&nbsp;BurstDelay,&nbsp;otherwise&nbsp;use&nbsp;BeatDelay\n&nbsp;&nbsp;&nbsp;&nbsp;AddBins&nbsp;(BurstCov.BurstLengthCov,&nbsp;&nbsp;80,&nbsp;GenBin(3,11,1))&nbsp;;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;--&nbsp;80%&nbsp;Small&nbsp;Burst&nbsp;Length\n&nbsp;&nbsp;&nbsp;&nbsp;AddBins&nbsp;(BurstCov.BurstLengthCov,&nbsp;&nbsp;20,&nbsp;GenBin(109,131,1))&nbsp;;&nbsp;&nbsp;&nbsp;--&nbsp;20%&nbsp;Large&nbsp;Burst&nbsp;Length\n&nbsp;&nbsp;&nbsp;&nbsp;--&nbsp;BurstDelay&nbsp;-&nbsp;happens&nbsp;at&nbsp;BurstLength&nbsp;boundaries\n&nbsp;&nbsp;&nbsp;&nbsp;AddCross(BurstCov.BurstDelayCov,&nbsp;&nbsp;&nbsp;65,&nbsp;GenBin(0),&nbsp;GenBin(2,8,1))&nbsp;;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;--&nbsp;65%&nbsp;Ready&nbsp;Before&nbsp;Valid,&nbsp;small&nbsp;delay\n&nbsp;&nbsp;&nbsp;&nbsp;AddCross(BurstCov.BurstDelayCov,&nbsp;&nbsp;&nbsp;10,&nbsp;GenBin(0),&nbsp;GenBin(108,156,1))&nbsp;;&nbsp;--&nbsp;10%&nbsp;Ready&nbsp;Before&nbsp;Valid,&nbsp;large&nbsp;delay\n&nbsp;&nbsp;&nbsp;&nbsp;AddCross(BurstCov.BurstDelayCov,&nbsp;&nbsp;&nbsp;15,&nbsp;GenBin(1),&nbsp;GenBin(2,8,1))&nbsp;;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;--&nbsp;15%&nbsp;Ready&nbsp;After&nbsp;Valid,&nbsp;small&nbsp;delay\n&nbsp;&nbsp;&nbsp;&nbsp;AddCross(BurstCov.BurstDelayCov,&nbsp;&nbsp;&nbsp;10,&nbsp;GenBin(1),&nbsp;GenBin(108,156,1))&nbsp;;&nbsp;--&nbsp;10%&nbsp;Ready&nbsp;After&nbsp;Valid,&nbsp;large&nbsp;delay\n&nbsp;&nbsp;&nbsp;&nbsp;--&nbsp;BeatDelay&nbsp;-&nbsp;happens&nbsp;between&nbsp;each&nbsp;transfer&nbsp;it&nbsp;not&nbsp;at&nbsp;a&nbsp;BurstLength&nbsp;boundary\n&nbsp;&nbsp;&nbsp;&nbsp;AddCross(BurstCov.BeatDelayCov,&nbsp;&nbsp;&nbsp;&nbsp;85,&nbsp;GenBin(0),&nbsp;GenBin(0))&nbsp;;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;--&nbsp;85%&nbsp;Ready&nbsp;Before&nbsp;Valid,&nbsp;no&nbsp;delay\n&nbsp;&nbsp;&nbsp;&nbsp;AddCross(BurstCov.BeatDelayCov,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;5,&nbsp;GenBin(0),&nbsp;GenBin(1))&nbsp;;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;--&nbsp;&nbsp;5%&nbsp;Ready&nbsp;Before&nbsp;Valid,&nbsp;1&nbsp;cycle&nbsp;delay\n&nbsp;&nbsp;&nbsp;&nbsp;AddCross(BurstCov.BeatDelayCov,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;5,&nbsp;GenBin(1),&nbsp;GenBin(0))&nbsp;;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;--&nbsp;&nbsp;5%&nbsp;Ready&nbsp;After&nbsp;Valid,&nbsp;no&nbsp;delay\n&nbsp;&nbsp;&nbsp;&nbsp;AddCross(BurstCov.BeatDelayCov,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;5,&nbsp;GenBin(1),&nbsp;GenBin(1))&nbsp;;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;--&nbsp;&nbsp;5%&nbsp;Ready&nbsp;After&nbsp;Valid,&nbsp;1&nbsp;cycle&nbsp;delay\n&nbsp;\n&nbsp;&nbsp;&nbsp;&nbsp;ReceiveLoop&nbsp;:&nbsp;loop\n&nbsp;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;WaitForGet&nbsp;then&nbsp;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;--&nbsp;if&nbsp;no&nbsp;request,&nbsp;wait&nbsp;until&nbsp;we&nbsp;have&nbsp;one\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;--!!&nbsp;Note:&nbsp;&nbsp;&gt;&nbsp;breaks&nbsp;when&nbsp;**RequestCount&nbsp;&gt;&nbsp;2**30&nbsp;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;not&nbsp;((BurstRequestCount&nbsp;&gt;&nbsp;BurstReceiveCount)&nbsp;or&nbsp;(WordRequestCount&nbsp;&gt;&nbsp;WordReceiveCount))&nbsp;then&nbsp;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;wait&nbsp;until&nbsp;(BurstRequestCount&nbsp;&gt;&nbsp;BurstReceiveCount)&nbsp;or&nbsp;(WordRequestCount&nbsp;&gt;&nbsp;WordReceiveCount)&nbsp;or&nbsp;not&nbsp;WaitForGet&nbsp;;&nbsp;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;end&nbsp;if&nbsp;;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;end&nbsp;if&nbsp;;&nbsp;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;--&nbsp;Delay&nbsp;between&nbsp;consecutive&nbsp;signaling&nbsp;of&nbsp;Ready\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;UseCoverageDelays&nbsp;then&nbsp;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;--&nbsp;BurstCoverage&nbsp;Delays\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(ReadyBeforeValid,&nbsp;ReadyDelayCycles)&nbsp;&nbsp;:=&nbsp;GetRandDelay(BurstCov)&nbsp;;&nbsp;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;--&nbsp;Deprecated&nbsp;static&nbsp;settings\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ReadyBeforeValid&nbsp;:=&nbsp;to_integer(not&nbsp;ReceiveReadyBeforeValid)&nbsp;;&nbsp;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ReadyDelayCycles&nbsp;:=&nbsp;ReceiveReadyDelayCycles&nbsp;;&nbsp;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;end&nbsp;if&nbsp;;&nbsp;\n&nbsp;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;---------------------\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;DoAxiReadyHandshake&nbsp;(\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;---------------------\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Clk&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&gt;&nbsp;Clk,\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Valid&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&gt;&nbsp;TValid,\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Ready&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&gt;&nbsp;TReady,\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ReadyBeforeValid&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&gt;&nbsp;ReadyBeforeValid&nbsp;=&nbsp;0,\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ReadyDelayCycles&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&gt;&nbsp;ReadyDelayCycles&nbsp;*&nbsp;tperiod_Clk,\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;tpd_Clk_Ready&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&gt;&nbsp;tpd_Clk_TReady,\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;AlertLogID&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&gt;&nbsp;ModelID\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;)&nbsp;;\n&nbsp;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Data&nbsp;:=&nbsp;to_x01(TData)&nbsp;;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Last&nbsp;:=&nbsp;to_01(TLast)&nbsp;;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Strb&nbsp;:=&nbsp;to_x01(TStrb)&nbsp;;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Keep&nbsp;:=&nbsp;to_x01(TKeep)&nbsp;;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;--&nbsp;Either&nbsp;Strb&nbsp;or&nbsp;Keep&nbsp;can&nbsp;have&nbsp;a&nbsp;null&nbsp;range\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;--&nbsp;Make&nbsp;Data&nbsp;a&nbsp;Z&nbsp;if&nbsp;Strb(i)&nbsp;is&nbsp;position&nbsp;byte\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;i&nbsp;in&nbsp;Strb&apos;range&nbsp;loop\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;Strb(i)&nbsp;=&nbsp;&apos;0&apos;&nbsp;then\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Data(i*8&nbsp;+&nbsp;7&nbsp;downto&nbsp;i*8)&nbsp;:=&nbsp;(others&nbsp;=&gt;&nbsp;&apos;W&apos;)&nbsp;;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;end&nbsp;if;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;end&nbsp;loop&nbsp;;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;--&nbsp;Make&nbsp;Data&nbsp;a&nbsp;U&nbsp;if&nbsp;Keep(i)&nbsp;is&nbsp;null&nbsp;byte\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;i&nbsp;in&nbsp;Keep&apos;range&nbsp;loop\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;Keep(i)&nbsp;=&nbsp;&apos;0&apos;&nbsp;then\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Data(i*8&nbsp;+&nbsp;7&nbsp;downto&nbsp;i*8)&nbsp;:=&nbsp;(others&nbsp;=&gt;&nbsp;&apos;U&apos;)&nbsp;;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;end&nbsp;if;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;end&nbsp;loop&nbsp;;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;BurstFifoByteMode&nbsp;then&nbsp;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;--&nbsp;For&nbsp;ByteMode,&nbsp;we&nbsp;drop&nbsp;words&nbsp;with&nbsp;X&quot;--&quot;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;--&nbsp;For&nbsp;first&nbsp;Word&nbsp;in&nbsp;Transfer,&nbsp;Drop&nbsp;leading&nbsp;bytes&nbsp;until&nbsp;TKeep(i)&nbsp;=&nbsp;&apos;1&apos;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;LastLast&nbsp;=&nbsp;&apos;1&apos;&nbsp;then\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;i&nbsp;in&nbsp;Keep&apos;reverse_range&nbsp;loop\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;exit&nbsp;when&nbsp;Keep(i)&nbsp;/=&nbsp;&apos;0&apos;&nbsp;;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Data(i*8&nbsp;+&nbsp;7&nbsp;downto&nbsp;i*8)&nbsp;:=&nbsp;(others&nbsp;=&gt;&nbsp;&apos;-&apos;)&nbsp;;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;end&nbsp;loop&nbsp;;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;end&nbsp;if&nbsp;;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;--&nbsp;For&nbsp;last&nbsp;Word&nbsp;in&nbsp;Transfer,&nbsp;Drop&nbsp;ending&nbsp;bytes&nbsp;until&nbsp;TKeep(i)&nbsp;=&nbsp;&apos;1&apos;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;Last&nbsp;=&nbsp;&apos;1&apos;&nbsp;then\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;i&nbsp;in&nbsp;Keep&apos;range&nbsp;loop\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;exit&nbsp;when&nbsp;Keep(i)&nbsp;/=&nbsp;&apos;0&apos;&nbsp;;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Data(i*8&nbsp;+&nbsp;7&nbsp;downto&nbsp;i*8)&nbsp;:=&nbsp;(others&nbsp;=&gt;&nbsp;&apos;-&apos;)&nbsp;;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;end&nbsp;loop&nbsp;;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;end&nbsp;if&nbsp;;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;end&nbsp;if&nbsp;;\n&nbsp;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(not&nbsp;MetaMatch(TID,&nbsp;LastID)&nbsp;or&nbsp;not&nbsp;MetaMatch(TDest,&nbsp;LastDest))&nbsp;and&nbsp;LastLast&nbsp;/=&nbsp;&apos;1&apos;&nbsp;then\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;--&nbsp;push&nbsp;a&nbsp;burst&nbsp;boundary&nbsp;word,&nbsp;only&nbsp;the&nbsp;Burst&nbsp;Boundary&nbsp;value&nbsp;matters\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;push(ReceiveFifo,&nbsp;Data&nbsp;&amp;&nbsp;TID&nbsp;&amp;&nbsp;TDest&nbsp;&amp;&nbsp;TUser&nbsp;&amp;&nbsp;Last&nbsp;&amp;&nbsp;&apos;1&apos;)&nbsp;;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;BurstReceiveCount&nbsp;&lt;=&nbsp;BurstReceiveCount&nbsp;+&nbsp;1&nbsp;;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;Last&nbsp;=&nbsp;&apos;1&apos;&nbsp;then\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;wait&nbsp;for&nbsp;0&nbsp;ns&nbsp;;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;end&nbsp;if&nbsp;;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;end&nbsp;if&nbsp;;\n--&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;BurstBoundary&nbsp;:=&nbsp;&apos;1&apos;&nbsp;when&nbsp;(not&nbsp;MetaMatch(TID,&nbsp;LastID)&nbsp;or&nbsp;not&nbsp;MetaMatch(TDest,&nbsp;LastDest))&nbsp;and&nbsp;LastLast&nbsp;/=&nbsp;&apos;1&apos;&nbsp;else&nbsp;&apos;0&apos;&nbsp;;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;LastID&nbsp;&nbsp;&nbsp;:=&nbsp;TID&nbsp;;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;LastDest&nbsp;:=&nbsp;TDest&nbsp;;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;LastLast&nbsp;:=&nbsp;Last&nbsp;;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;--&nbsp;capture&nbsp;this&nbsp;transaction\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;push(ReceiveFifo,&nbsp;Data&nbsp;&amp;&nbsp;TID&nbsp;&amp;&nbsp;TDest&nbsp;&amp;&nbsp;TUser&nbsp;&amp;&nbsp;Last&nbsp;&amp;&nbsp;&apos;0&apos;)&nbsp;;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;Last&nbsp;=&nbsp;&apos;1&apos;&nbsp;then\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;BurstReceiveCount&nbsp;&lt;=&nbsp;BurstReceiveCount&nbsp;+&nbsp;1&nbsp;;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;end&nbsp;if&nbsp;;\n&nbsp;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;--&nbsp;Log&nbsp;this&nbsp;operation\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Log(ModelID,\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;Axi&nbsp;Stream&nbsp;Receive.&quot;&nbsp;&amp;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&nbsp;&nbsp;TData:&nbsp;&quot;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;&nbsp;to_hxstring(TData)&nbsp;&amp;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ifelse(TStrb&apos;length&nbsp;&gt;&nbsp;0,&nbsp;&quot;&nbsp;&nbsp;TStrb:&nbsp;&quot;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;&nbsp;to_string&nbsp;(TStrb),&nbsp;&quot;&quot;)&nbsp;&amp;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ifelse(TKeep&apos;length&nbsp;&gt;&nbsp;0,&nbsp;&quot;&nbsp;&nbsp;TKeep:&nbsp;&quot;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;&nbsp;to_string&nbsp;(TKeep),&nbsp;&quot;&quot;)&nbsp;&amp;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ifelse(TID&apos;length&nbsp;&gt;&nbsp;0,&nbsp;&nbsp;&nbsp;&quot;&nbsp;&nbsp;TID:&nbsp;&quot;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;&nbsp;to_hxstring(TID),&nbsp;&nbsp;&nbsp;&quot;&quot;)&nbsp;&amp;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ifelse(TDest&apos;length&nbsp;&gt;&nbsp;0,&nbsp;&quot;&nbsp;&nbsp;TDest:&nbsp;&quot;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;&nbsp;to_hxstring(TDest),&nbsp;&quot;&quot;)&nbsp;&amp;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ifelse(TUser&apos;length&nbsp;&gt;&nbsp;0,&nbsp;&quot;&nbsp;&nbsp;TUser:&nbsp;&quot;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;&nbsp;to_hxstring(TUser),&nbsp;&quot;&quot;)&nbsp;&amp;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&nbsp;&nbsp;TLast:&nbsp;&quot;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;&nbsp;to_string&nbsp;(TLast)&nbsp;&amp;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&nbsp;&nbsp;Operation#&nbsp;&quot;&nbsp;&amp;&nbsp;to_string&nbsp;(WordReceiveCount&nbsp;+&nbsp;1),\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;DEBUG\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;)&nbsp;;\n&nbsp;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;--&nbsp;Signal&nbsp;completion\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;increment(WordReceiveCount)&nbsp;;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;wait&nbsp;for&nbsp;0&nbsp;ns&nbsp;;\n&nbsp;&nbsp;&nbsp;&nbsp;end&nbsp;loop&nbsp;ReceiveLoop&nbsp;;\n&nbsp;&nbsp;end&nbsp;process&nbsp;ReceiveHandler&nbsp;;\nend&nbsp;architecture&nbsp;behavioral&nbsp;;\n';
Report.brushes['./../../../SynthWorks/Dev/_osvvm/OsvvmLibraries/AXI4/AxiStream/src/AxiStreamReceiver.vhd'] = 'vhdl'
